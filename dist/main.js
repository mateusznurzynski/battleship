(()=>{var e={150:(e,n,t)=>{"use strict";t.d(n,{Z:()=>A});var r=t(537),i=t.n(r),o=t(645),a=t.n(o),s=t(667),c=t.n(s),l=new URL(t(967),t.b),d=a()(i()),u=c()(l);d.push([e.id,`html {\n  box-sizing: border-box;\n  overflow-x: hidden;\n}\n*,\n*::after,\n*::before {\n  box-sizing: inherit;\n  margin: 0;\n  padding: 0;\n}\n\n:root {\n  --success: #28a745;\n  --info: #17a2b8;\n  --warning: #ffc107;\n  --danger: #dc3545;\n  --light: #f8f9fa;\n  --dark: #343a40;\n\n  --success-hover: #31b14f;\n  --info-hover: #2ca8bb;\n  --warning-hover: #ffc929;\n  --danger-hover: #fd3e51;\n\n  --tile-size: 32px;\n}\n\nbody {\n  background-color: var(--dark);\n  background-image: url(${u});\n  background-size: cover;\n  color: white;\n  font-family: Arial, Helvetica, sans-serif;\n  display: flex;\n}\n\n.overlay {\n  height: 100vh;\n  height: 100svh;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.4);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 15px;\n}\n\n.status {\n  font-size: 2.5rem;\n  margin-bottom: 50px;\n}\n\n.axis-button {\n  margin-bottom: 15px;\n  background-color: var(--info);\n  color: white;\n  padding: 7px;\n  cursor: pointer;\n  border-radius: 5px;\n  display: none;\n}\n\n.gameboards {\n  display: flex;\n  width: 100%;\n  justify-content: space-evenly;\n}\n\n.gameboard {\n  display: grid;\n}\n\n.tile {\n  height: var(--tile-size);\n  width: var(--tile-size);\n  position: relative;\n}\n\n.gameboard-player .tile {\n  box-shadow: 2px 0 0 0 var(--success), 0 2px 0 0 var(--success),\n    2px 2px 0 0 var(--success), 2px 0 0 0 var(--success) inset,\n    0 2px 0 0 var(--success) inset;\n}\n\n.gameboard-player .tile:hover {\n  z-index: 1;\n  box-shadow: 2px 0 0 0 greenyellow, 0 2px 0 0 greenyellow,\n    2px 2px 0 0 greenyellow, 2px 0 0 0 greenyellow inset,\n    0 2px 0 0 greenyellow inset;\n}\n\n.gameboard-computer .tile {\n  cursor: pointer;\n  box-shadow: 2px 0 0 0 var(--danger), 0 2px 0 0 var(--danger),\n    2px 2px 0 0 var(--danger), 2px 0 0 0 var(--danger) inset,\n    0 2px 0 0 var(--danger) inset;\n}\n\n.gameboard-computer .tile:hover {\n  z-index: 1;\n  box-shadow: 2px 0 0 0 orange, 0 2px 0 0 orange, 2px 2px 0 0 orange,\n    2px 0 0 0 orange inset, 0 2px 0 0 orange inset;\n}\n\n.tile[ship='alive'] {\n  background-color: rgba(153, 255, 0, 0.65);\n}\n.tile[ship='attacked'] {\n  background-color: rgba(255, 0, 0, 0.65);\n}\n.tile[ship='destroyed'] {\n  background-image: linear-gradient(\n    45deg,\n    #000000 25%,\n    #ff0000 25%,\n    #ff0000 50%,\n    #000000 50%,\n    #000000 75%,\n    #ff0000 75%,\n    #ff0000 100%\n  );\n  background-size: 11.31px 11.31px;\n}\n\n.tile[attacked] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n}\n.tile[attacked]::before {\n  content: '';\n  height: var(--tile-size);\n  border-left: 2px solid #fff;\n  position: absolute;\n  transform: rotate(45deg);\n  left: calc(var(--tile-size) / 2);\n}\n.tile[attacked]::after {\n  content: '';\n  height: var(--tile-size);\n  border-left: 2px solid #fff;\n  position: absolute;\n  transform: rotate(-45deg);\n  left: calc(var(--tile-size) / 2);\n}\n\n.tile[placing] > .highlight {\n  position: absolute;\n  top: 1px;\n  left: 1px;\n  font-weight: bold;\n  color: white;\n  height: var(--tile-size);\n  width: var(--tile-size);\n  background-color: cyan;\n  pointer-events: none;\n  z-index: 1;\n}\n`,"",{version:3,sources:["webpack://./src/main.css"],names:[],mappings:"AAAA;EACE,sBAAsB;EACtB,kBAAkB;AACpB;AACA;;;EAGE,mBAAmB;EACnB,SAAS;EACT,UAAU;AACZ;;AAEA;EACE,kBAAkB;EAClB,eAAe;EACf,kBAAkB;EAClB,iBAAiB;EACjB,gBAAgB;EAChB,eAAe;;EAEf,wBAAwB;EACxB,qBAAqB;EACrB,wBAAwB;EACxB,uBAAuB;;EAEvB,iBAAiB;AACnB;;AAEA;EACE,6BAA6B;EAC7B,yDAA6C;EAC7C,sBAAsB;EACtB,YAAY;EACZ,yCAAyC;EACzC,aAAa;AACf;;AAEA;EACE,aAAa;EACb,cAAc;EACd,WAAW;EACX,oCAAoC;EACpC,aAAa;EACb,sBAAsB;EACtB,mBAAmB;EACnB,aAAa;AACf;;AAEA;EACE,iBAAiB;EACjB,mBAAmB;AACrB;;AAEA;EACE,mBAAmB;EACnB,6BAA6B;EAC7B,YAAY;EACZ,YAAY;EACZ,eAAe;EACf,kBAAkB;EAClB,aAAa;AACf;;AAEA;EACE,aAAa;EACb,WAAW;EACX,6BAA6B;AAC/B;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,wBAAwB;EACxB,uBAAuB;EACvB,kBAAkB;AACpB;;AAEA;EACE;;kCAEgC;AAClC;;AAEA;EACE,UAAU;EACV;;+BAE6B;AAC/B;;AAEA;EACE,eAAe;EACf;;iCAE+B;AACjC;;AAEA;EACE,UAAU;EACV;kDACgD;AAClD;;AAEA;EACE,yCAAyC;AAC3C;AACA;EACE,uCAAuC;AACzC;AACA;EACE;;;;;;;;;GASC;EACD,gCAAgC;AAClC;;AAEA;EACE,aAAa;EACb,uBAAuB;EACvB,mBAAmB;EACnB,kBAAkB;AACpB;AACA;EACE,WAAW;EACX,wBAAwB;EACxB,2BAA2B;EAC3B,kBAAkB;EAClB,wBAAwB;EACxB,gCAAgC;AAClC;AACA;EACE,WAAW;EACX,wBAAwB;EACxB,2BAA2B;EAC3B,kBAAkB;EAClB,yBAAyB;EACzB,gCAAgC;AAClC;;AAEA;EACE,kBAAkB;EAClB,QAAQ;EACR,SAAS;EACT,iBAAiB;EACjB,YAAY;EACZ,wBAAwB;EACxB,uBAAuB;EACvB,sBAAsB;EACtB,oBAAoB;EACpB,UAAU;AACZ",sourcesContent:["html {\n  box-sizing: border-box;\n  overflow-x: hidden;\n}\n*,\n*::after,\n*::before {\n  box-sizing: inherit;\n  margin: 0;\n  padding: 0;\n}\n\n:root {\n  --success: #28a745;\n  --info: #17a2b8;\n  --warning: #ffc107;\n  --danger: #dc3545;\n  --light: #f8f9fa;\n  --dark: #343a40;\n\n  --success-hover: #31b14f;\n  --info-hover: #2ca8bb;\n  --warning-hover: #ffc929;\n  --danger-hover: #fd3e51;\n\n  --tile-size: 32px;\n}\n\nbody {\n  background-color: var(--dark);\n  background-image: url('./img/background.jpg');\n  background-size: cover;\n  color: white;\n  font-family: Arial, Helvetica, sans-serif;\n  display: flex;\n}\n\n.overlay {\n  height: 100vh;\n  height: 100svh;\n  width: 100%;\n  background-color: rgba(0, 0, 0, 0.4);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 15px;\n}\n\n.status {\n  font-size: 2.5rem;\n  margin-bottom: 50px;\n}\n\n.axis-button {\n  margin-bottom: 15px;\n  background-color: var(--info);\n  color: white;\n  padding: 7px;\n  cursor: pointer;\n  border-radius: 5px;\n  display: none;\n}\n\n.gameboards {\n  display: flex;\n  width: 100%;\n  justify-content: space-evenly;\n}\n\n.gameboard {\n  display: grid;\n}\n\n.tile {\n  height: var(--tile-size);\n  width: var(--tile-size);\n  position: relative;\n}\n\n.gameboard-player .tile {\n  box-shadow: 2px 0 0 0 var(--success), 0 2px 0 0 var(--success),\n    2px 2px 0 0 var(--success), 2px 0 0 0 var(--success) inset,\n    0 2px 0 0 var(--success) inset;\n}\n\n.gameboard-player .tile:hover {\n  z-index: 1;\n  box-shadow: 2px 0 0 0 greenyellow, 0 2px 0 0 greenyellow,\n    2px 2px 0 0 greenyellow, 2px 0 0 0 greenyellow inset,\n    0 2px 0 0 greenyellow inset;\n}\n\n.gameboard-computer .tile {\n  cursor: pointer;\n  box-shadow: 2px 0 0 0 var(--danger), 0 2px 0 0 var(--danger),\n    2px 2px 0 0 var(--danger), 2px 0 0 0 var(--danger) inset,\n    0 2px 0 0 var(--danger) inset;\n}\n\n.gameboard-computer .tile:hover {\n  z-index: 1;\n  box-shadow: 2px 0 0 0 orange, 0 2px 0 0 orange, 2px 2px 0 0 orange,\n    2px 0 0 0 orange inset, 0 2px 0 0 orange inset;\n}\n\n.tile[ship='alive'] {\n  background-color: rgba(153, 255, 0, 0.65);\n}\n.tile[ship='attacked'] {\n  background-color: rgba(255, 0, 0, 0.65);\n}\n.tile[ship='destroyed'] {\n  background-image: linear-gradient(\n    45deg,\n    #000000 25%,\n    #ff0000 25%,\n    #ff0000 50%,\n    #000000 50%,\n    #000000 75%,\n    #ff0000 75%,\n    #ff0000 100%\n  );\n  background-size: 11.31px 11.31px;\n}\n\n.tile[attacked] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n}\n.tile[attacked]::before {\n  content: '';\n  height: var(--tile-size);\n  border-left: 2px solid #fff;\n  position: absolute;\n  transform: rotate(45deg);\n  left: calc(var(--tile-size) / 2);\n}\n.tile[attacked]::after {\n  content: '';\n  height: var(--tile-size);\n  border-left: 2px solid #fff;\n  position: absolute;\n  transform: rotate(-45deg);\n  left: calc(var(--tile-size) / 2);\n}\n\n.tile[placing] > .highlight {\n  position: absolute;\n  top: 1px;\n  left: 1px;\n  font-weight: bold;\n  color: white;\n  height: var(--tile-size);\n  width: var(--tile-size);\n  background-color: cyan;\n  pointer-events: none;\n  z-index: 1;\n}\n"],sourceRoot:""}]);const A=d},645:e=>{"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);r&&a[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),i&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=i):d[4]="".concat(i)),n.push(d))}},n}},667:e=>{"use strict";e.exports=function(e,n){return n||(n={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),n.hash&&(e+=n.hash),/["'() \t\n]|(%20)/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},537:e=>{"use strict";e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(i," */");return[n].concat([o]).join("\n")}return[n].join("\n")}},798:function(e,n,t){e=t.nmd(e),function(t,r){"use strict";var i={};t.PubSub?(i=t.PubSub,console.warn("PubSub already loaded, using existing version")):(t.PubSub=i,function(e){var n={},t=-1,r="*";function i(e,n,t){try{e(n,t)}catch(e){setTimeout(function(e){return function(){throw e}}(e),0)}}function o(e,n,t){e(n,t)}function a(e,t,r,a){var s,c=n[t],l=a?o:i;if(Object.prototype.hasOwnProperty.call(n,t))for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&l(c[s],e,r)}function s(e){var t=String(e);return Boolean(Object.prototype.hasOwnProperty.call(n,t)&&function(e){var n;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n))return!0;return!1}(n[t]))}function c(e,n,t,i){var o=function(e,n,t){return function(){var i=String(e),o=i.lastIndexOf(".");for(a(e,e,n,t);-1!==o;)o=(i=i.substr(0,o)).lastIndexOf("."),a(e,i,n,t);a(e,r,n,t)}}(e="symbol"==typeof e?e.toString():e,n,i);return!!function(e){for(var n=String(e),t=s(n)||s(r),i=n.lastIndexOf(".");!t&&-1!==i;)i=(n=n.substr(0,i)).lastIndexOf("."),t=s(n);return t}(e)&&(!0===t?o():setTimeout(o,0),!0)}e.publish=function(n,t){return c(n,t,!1,e.immediateExceptions)},e.publishSync=function(n,t){return c(n,t,!0,e.immediateExceptions)},e.subscribe=function(e,r){if("function"!=typeof r)return!1;e="symbol"==typeof e?e.toString():e,Object.prototype.hasOwnProperty.call(n,e)||(n[e]={});var i="uid_"+String(++t);return n[e][i]=r,i},e.subscribeAll=function(n){return e.subscribe(r,n)},e.subscribeOnce=function(n,t){var r=e.subscribe(n,(function(){e.unsubscribe(r),t.apply(this,arguments)}));return e},e.clearAllSubscriptions=function(){n={}},e.clearSubscriptions=function(e){var t;for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&0===t.indexOf(e)&&delete n[t]},e.countSubscriptions=function(e){var t,r,i=0;for(t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&0===t.indexOf(e)){for(r in n[t])i++;break}return i},e.getSubscriptions=function(e){var t,r=[];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&0===t.indexOf(e)&&r.push(t);return r},e.unsubscribe=function(t){var r,i,o,a="string"==typeof t&&(Object.prototype.hasOwnProperty.call(n,t)||function(e){var t;for(t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&0===t.indexOf(e))return!0;return!1}(t)),s=!a&&"string"==typeof t,c="function"==typeof t,l=!1;if(!a){for(r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(i=n[r],s&&i[t]){delete i[t],l=t;break}if(c)for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&i[o]===t&&(delete i[o],l=!0)}return l}e.clearSubscriptions(t)}}(i)),void 0!==e&&e.exports&&(n=e.exports=i),n.PubSub=i,e.exports=n=i}("object"==typeof window&&window||this)},379:e=>{"use strict";var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var o={},a=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],d=o[l]||0,u="".concat(l," ").concat(d);o[l]=d+1;var A=t(u),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==A)n[A].references++,n[A].updater(p);else{var f=i(p,r);r.byIndex=s,n.splice(s,0,{identifier:u,updater:f,references:1})}a.push(u)}return a}function i(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var s=t(o[a]);n[s].references--}for(var c=r(e,i),l=0;l<o.length;l++){var d=t(o[l]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}o=c}}},569:e=>{"use strict";var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:e=>{"use strict";e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{"use strict";e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var i=void 0!==t.layer;i&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,i&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{"use strict";e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},967:(e,n,t)=>{"use strict";e.exports=t.p+"2758238b9abcc113f352.jpg"}},n={};function t(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}t.m=e,t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");if(r.length)for(var i=r.length-1;i>-1&&!e;)e=r[i--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.b=document.baseURI||self.location.href,t.nc=void 0,(()=>{"use strict";var e=t(379),n=t.n(e),r=t(795),i=t.n(r),o=t(569),a=t.n(o),s=t(565),c=t.n(s),l=t(216),d=t.n(l),u=t(589),A=t.n(u),p=t(150),f={};f.styleTagTransform=A(),f.setAttributes=c(),f.insert=a().bind(null,"head"),f.domAPI=i(),f.insertStyleElement=d(),n()(p.Z,f),p.Z&&p.Z.locals&&p.Z.locals,t(967);var h=t(798),g=t.n(h);const b=document.querySelector(".gameboards"),m=document.querySelector(".status"),v=document.querySelector(".axis-button");v.addEventListener("click",(()=>{g().publish("axisChanged")}));const C=e=>{g().publish("enemyTileClicked",{row:e.target.getAttribute("data-row"),column:e.target.getAttribute("data-column")})},E=e=>{const n=b.querySelectorAll(".gameboard-computer > .tile");e?n.forEach((e=>{e.addEventListener("click",C)})):n.forEach((e=>{e.removeEventListener("click",C)}))},x=(e="div",n="",t="")=>{const r=document.createElement(e);return r.className=n,r.innerHTML=t,r},y=(e,n=!1)=>{const t=x("div","tile");return t.setAttribute("data-row",e.row),t.setAttribute("data-column",e.column),e.attacked?(t.toggleAttribute("attacked",!0),e.ship&&(t.setAttribute("ship","attacked"),e.ship.sunk&&t.setAttribute("ship","destroyed"))):n&&e.ship&&t.setAttribute("ship","alive"),t},B=e=>{m.innerText=e},w=(e,n,t=10)=>{b.innerHTML="";const r=e.tiles,i=n.tiles,o=x("div","gameboard gameboard-player");r.forEach((e=>{const n=y(e,!0);o.appendChild(n)}));const a=x("div","gameboard gameboard-computer");i.forEach((e=>{const n=y(e,!1);a.appendChild(n)})),o.style.gridTemplateColumns=`repeat(${t}, 1fr)`,a.style.gridTemplateColumns=`repeat(${t}, 1fr)`,v.style.display="none",b.appendChild(o),b.appendChild(a)},k=(e,n,t,r)=>{b.innerHTML="";const i=e.tiles,o=x("div","gameboard gameboard-player gameboard-init"),a=x("div","highlight");i.forEach((e=>{const r=y(e,!0);r.addEventListener("mouseenter",(()=>{r.toggleAttribute("placing",!0);const e=a.cloneNode(!0);"right"===t?e.style.width=`calc(var(--tile-size)*${n})`:"down"===t&&(e.style.height=`calc(var(--tile-size)*${n})`),r.appendChild(e)})),r.addEventListener("mouseleave",(()=>{r.toggleAttribute("placing",!1),r.innerHTML=""})),r.addEventListener("click",(()=>{g().publish("playerTileClicked",[e.row,e.column])})),o.appendChild(r)})),o.style.gridTemplateColumns=`repeat(${r}, 1fr)`,v.style.display="flex",b.appendChild(o)},S=e=>!!e&&{length:e,timesHit:0,sunk:!1,hit(){this.timesHit+=1,this.isSunk()},isSunk(){this.timesHit>=this.length&&(this.sunk=!0)}},z=(e,n,t=null)=>{if(!e||!n)throw Error("Invalid coordinates!");return{row:e,column:n,ship:t,attacked:!1}},O=(e=10)=>{const n=[];let t=1,r=1;for(let i=0;i<e*e;i+=1)n.push(z(t,r)),r<e?r+=1:(r=1,t+=1);const i=(e,n,t)=>{const r=[[...e]],i=[...e];for(let e=0;e<n-1;e+=1)switch(t){case"up":i[0]-=1,r.push([...i]);break;case"right":i[1]+=1,r.push([...i]);break;case"down":i[0]+=1,r.push([...i]);break;case"left":i[1]-=1,r.push([...i])}return r},o=(e,n)=>e[0]>=1&&e[0]<=n&&e[1]>=1&&e[1]<=n;return{tiles:n,size:e,attackedCoordinates:[],ships:[],getAdjacentCoordinates(e){return[[e[0]-1,e[1]],[e[0]-1,e[1]+1],[e[0],e[1]+1],[e[0]+1,e[1]+1],[e[0]+1,e[1]],[e[0]+1,e[1]-1],[e[0],e[1]-1],[e[0]-1,e[1]-1]].filter((e=>o(e,this.size)))},checkForAdjacentShips(e){return this.getAdjacentCoordinates(e).some((e=>!!this.findTile(e).ship))},validateShipCoordinates(e){let n=!0;return e.forEach((e=>{(!o(e,this.size)||this.checkForAdjacentShips(e)||this.findTile(e).ship)&&(n=!1)})),n},findTile(e){const n=(e[0]-1)*this.size+(e[1]-1);return this.tiles[n]},placeShip(e,n,t){if(n<1)return!1;const r=i(e,n,t);if(!this.validateShipCoordinates(r))return!1;const o=S(n);return this.ships.push(o),r.forEach((e=>{this.findTile(e).ship=o})),!0},placeShipRandomly(e,t){const r=[...n];let o;for(;r.length>0&&!o;){const n=Math.floor(Math.random()*r.length),a=[r[n].row,r[n].column],s=i(a,e,t);this.validateShipCoordinates(s)?o=a:r.splice(n,1)}return this.placeShip(o,e,t),o},validateHit(e){return!!o(e,this.size)&&!this.attackedCoordinates.some((n=>n[0]===e[0]&&n[1]===e[1]))},receiveHit(e){if(!this.validateHit(e))return!1;this.attackedCoordinates.push(e);const n=this.findTile(e);return n.attacked=!0,!n.ship||(n.ship.hit(),!0)},isEverythingSunk(){if(this.ships.length<=0)return!0;const e=this.ships.some((e=>!e.sunk));return!e}}},T=(e,n=10)=>{const t=O(n),r=[];let i=1,o=1;for(let e=0;e<n*n;e+=1)r.push([i,o]),o<n?o+=1:(o=1,i+=1);return{isHuman:e,gameBoard:t,boardSize:n,possibleTargets:r,targetedCoordinates:[],chooseRandomAttack(e=this.possibleTargets){return!(e.length<=0)&&e[(n=e.length,Math.floor(Math.random()*n))];var n},performRandomAttack(e){const n=this.chooseRandomAttack();this.targetedCoordinates.push(n);const t=this.possibleTargets.findIndex((e=>e[0]===n[0]&&e[1]===n[1]));return this.possibleTargets.splice(t,1),e.gameBoard.receiveHit(n),n}}},j=[4,3,3,2,2,2,1,1,1,1];let P,M=!1;const H=T(!1,10),I=()=>(P.gameBoard.isEverythingSunk()?(g().publish("gameEnded",{winner:"computer"}),1):H.gameBoard.isEverythingSunk()&&(g().publish("gameEnded",{winner:"player"}),1))?(M=!1,E(!1),!1):(M=!M,E(M),B(`It's ${M?"your":"the computer's"} turn!`),M),L=(e,n)=>{if(!M)return!1;const t=H.gameBoard.receiveHit([n.row,n.column]);return t&&g().publish("userAttacked",[n.row,n.column]),t},R=e=>{P=e,j.forEach((e=>{const n=["down","right"][Math.floor(2*Math.random())];H.gameBoard.placeShipRandomly(e,n)})),g().subscribe("enemyTileClicked",L),g().subscribe("userAttacked",(()=>{w(P.gameBoard,H.gameBoard),I(),((e=1e3)=>{M||setTimeout((()=>{const e=H.performRandomAttack(P);g().publish("computerAttacked",e)}),e)})(1e3)})),g().subscribe("computerAttacked",(()=>{w(P.gameBoard,H.gameBoard),I()})),g().subscribe("gameEnded",((e,n)=>{g().clearAllSubscriptions(),(({winner:e})=>{B(`Game ended! Winner: ${e}`)})(n)})),w(P.gameBoard,H.gameBoard),E(!0),I()},U=[4,3,3,2,2,2,1,1,1,1],$=T(!0,10);let Z=0,W=U[Z],N="right";B("Place your ships"),k($.gameBoard,W,N,10),g().subscribe("axisChanged",(()=>{N="right"===N?"down":"right",k($.gameBoard,W,N,10)})),g().subscribe("playerTileClicked",((e,n)=>{$.gameBoard.placeShip(n,W,N)&&(Z+=1,W=U[Z],k($.gameBoard,W,N,10)),W||(g().clearAllSubscriptions(),R($))}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixJQUFJQyxFQUF1QixFQUN2QkMsRUFBa0JGLEVBQWlCQyxHQUNuQ0UsRUFBdUIsUUF1Q3pCekYsRUFBYSxvQkFDYmMsRUFDRSxFQUFZQyxVQUNaeUUsRUFDQUMsRUFqRGUsSUFTakIsY0FBaUIsZUFBZSxLQUM5QkEsRUFBZ0QsVUFBekJBLEVBQW1DLE9BQVMsUUFDbkUzRSxFQUNFLEVBQVlDLFVBQ1p5RSxFQUNBQyxFQWRhLEdBZ0JkLElBR0gsY0FBaUIscUJBQXFCLENBQUNULEVBQUsxUSxLQUN4QixFQUFZeU0sVUFBVWlDLFVBQ3RDMU8sRUFDQWtSLEVBQ0FDLEtBSUFGLEdBQXdCLEVBQ3hCQyxFQUFrQkYsRUFBaUJDLEdBQ25DekUsRUFDRSxFQUFZQyxVQUNaeUUsRUFDQUMsRUFoQ1csS0FxQ1ZELElBQ0gsNEJBQ0EsRUFBVSxHQUNaLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL21haW4uY3NzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0VXJsLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3B1YnN1Yi1qcy9zcmMvcHVic3ViLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvbm9kZSBtb2R1bGUgZGVjb3JhdG9yIiwid2VicGFjazovL2JhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9ub25jZSIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL21haW4uY3NzP2RkZDMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9kb20uanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcC8uL3NyYy9mYWN0b3JpZXMvc2hpcC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2ZhY3Rvcmllcy9nYW1lLWJvYXJkLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXAvLi9zcmMvZmFjdG9yaWVzL3BsYXllci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWUtbG9vcC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwLy4vc3JjL2dhbWUtaW5pdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0VXJsLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18gPSBuZXcgVVJMKFwiLi9pbWcvYmFja2dyb3VuZC5qcGdcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYGh0bWwge1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBvdmVyZmxvdy14OiBoaWRkZW47XG59XG4qLFxuKjo6YWZ0ZXIsXG4qOjpiZWZvcmUge1xuICBib3gtc2l6aW5nOiBpbmhlcml0O1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG59XG5cbjpyb290IHtcbiAgLS1zdWNjZXNzOiAjMjhhNzQ1O1xuICAtLWluZm86ICMxN2EyYjg7XG4gIC0td2FybmluZzogI2ZmYzEwNztcbiAgLS1kYW5nZXI6ICNkYzM1NDU7XG4gIC0tbGlnaHQ6ICNmOGY5ZmE7XG4gIC0tZGFyazogIzM0M2E0MDtcblxuICAtLXN1Y2Nlc3MtaG92ZXI6ICMzMWIxNGY7XG4gIC0taW5mby1ob3ZlcjogIzJjYThiYjtcbiAgLS13YXJuaW5nLWhvdmVyOiAjZmZjOTI5O1xuICAtLWRhbmdlci1ob3ZlcjogI2ZkM2U1MTtcblxuICAtLXRpbGUtc2l6ZTogMzJweDtcbn1cblxuYm9keSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWRhcmspO1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHtfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8wX19ffSk7XG4gIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XG4gIGRpc3BsYXk6IGZsZXg7XG59XG5cbi5vdmVybGF5IHtcbiAgaGVpZ2h0OiAxMDB2aDtcbiAgaGVpZ2h0OiAxMDBzdmg7XG4gIHdpZHRoOiAxMDAlO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNCk7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHBhZGRpbmc6IDE1cHg7XG59XG5cbi5zdGF0dXMge1xuICBmb250LXNpemU6IDIuNXJlbTtcbiAgbWFyZ2luLWJvdHRvbTogNTBweDtcbn1cblxuLmF4aXMtYnV0dG9uIHtcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taW5mbyk7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgcGFkZGluZzogN3B4O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgZGlzcGxheTogbm9uZTtcbn1cblxuLmdhbWVib2FyZHMge1xuICBkaXNwbGF5OiBmbGV4O1xuICB3aWR0aDogMTAwJTtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7XG59XG5cbi5nYW1lYm9hcmQge1xuICBkaXNwbGF5OiBncmlkO1xufVxuXG4udGlsZSB7XG4gIGhlaWdodDogdmFyKC0tdGlsZS1zaXplKTtcbiAgd2lkdGg6IHZhcigtLXRpbGUtc2l6ZSk7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuLmdhbWVib2FyZC1wbGF5ZXIgLnRpbGUge1xuICBib3gtc2hhZG93OiAycHggMCAwIDAgdmFyKC0tc3VjY2VzcyksIDAgMnB4IDAgMCB2YXIoLS1zdWNjZXNzKSxcbiAgICAycHggMnB4IDAgMCB2YXIoLS1zdWNjZXNzKSwgMnB4IDAgMCAwIHZhcigtLXN1Y2Nlc3MpIGluc2V0LFxuICAgIDAgMnB4IDAgMCB2YXIoLS1zdWNjZXNzKSBpbnNldDtcbn1cblxuLmdhbWVib2FyZC1wbGF5ZXIgLnRpbGU6aG92ZXIge1xuICB6LWluZGV4OiAxO1xuICBib3gtc2hhZG93OiAycHggMCAwIDAgZ3JlZW55ZWxsb3csIDAgMnB4IDAgMCBncmVlbnllbGxvdyxcbiAgICAycHggMnB4IDAgMCBncmVlbnllbGxvdywgMnB4IDAgMCAwIGdyZWVueWVsbG93IGluc2V0LFxuICAgIDAgMnB4IDAgMCBncmVlbnllbGxvdyBpbnNldDtcbn1cblxuLmdhbWVib2FyZC1jb21wdXRlciAudGlsZSB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgYm94LXNoYWRvdzogMnB4IDAgMCAwIHZhcigtLWRhbmdlciksIDAgMnB4IDAgMCB2YXIoLS1kYW5nZXIpLFxuICAgIDJweCAycHggMCAwIHZhcigtLWRhbmdlciksIDJweCAwIDAgMCB2YXIoLS1kYW5nZXIpIGluc2V0LFxuICAgIDAgMnB4IDAgMCB2YXIoLS1kYW5nZXIpIGluc2V0O1xufVxuXG4uZ2FtZWJvYXJkLWNvbXB1dGVyIC50aWxlOmhvdmVyIHtcbiAgei1pbmRleDogMTtcbiAgYm94LXNoYWRvdzogMnB4IDAgMCAwIG9yYW5nZSwgMCAycHggMCAwIG9yYW5nZSwgMnB4IDJweCAwIDAgb3JhbmdlLFxuICAgIDJweCAwIDAgMCBvcmFuZ2UgaW5zZXQsIDAgMnB4IDAgMCBvcmFuZ2UgaW5zZXQ7XG59XG5cbi50aWxlW3NoaXA9J2FsaXZlJ10ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDE1MywgMjU1LCAwLCAwLjY1KTtcbn1cbi50aWxlW3NoaXA9J2F0dGFja2VkJ10ge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMCwgMCwgMC42NSk7XG59XG4udGlsZVtzaGlwPSdkZXN0cm95ZWQnXSB7XG4gIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudChcbiAgICA0NWRlZyxcbiAgICAjMDAwMDAwIDI1JSxcbiAgICAjZmYwMDAwIDI1JSxcbiAgICAjZmYwMDAwIDUwJSxcbiAgICAjMDAwMDAwIDUwJSxcbiAgICAjMDAwMDAwIDc1JSxcbiAgICAjZmYwMDAwIDc1JSxcbiAgICAjZmYwMDAwIDEwMCVcbiAgKTtcbiAgYmFja2dyb3VuZC1zaXplOiAxMS4zMXB4IDExLjMxcHg7XG59XG5cbi50aWxlW2F0dGFja2VkXSB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4udGlsZVthdHRhY2tlZF06OmJlZm9yZSB7XG4gIGNvbnRlbnQ6ICcnO1xuICBoZWlnaHQ6IHZhcigtLXRpbGUtc2l6ZSk7XG4gIGJvcmRlci1sZWZ0OiAycHggc29saWQgI2ZmZjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7XG4gIGxlZnQ6IGNhbGModmFyKC0tdGlsZS1zaXplKSAvIDIpO1xufVxuLnRpbGVbYXR0YWNrZWRdOjphZnRlciB7XG4gIGNvbnRlbnQ6ICcnO1xuICBoZWlnaHQ6IHZhcigtLXRpbGUtc2l6ZSk7XG4gIGJvcmRlci1sZWZ0OiAycHggc29saWQgI2ZmZjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xuICBsZWZ0OiBjYWxjKHZhcigtLXRpbGUtc2l6ZSkgLyAyKTtcbn1cblxuLnRpbGVbcGxhY2luZ10gPiAuaGlnaGxpZ2h0IHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDFweDtcbiAgbGVmdDogMXB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgY29sb3I6IHdoaXRlO1xuICBoZWlnaHQ6IHZhcigtLXRpbGUtc2l6ZSk7XG4gIHdpZHRoOiB2YXIoLS10aWxlLXNpemUpO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiBjeWFuO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbiAgei1pbmRleDogMTtcbn1cbmAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL21haW4uY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0VBQ0Usc0JBQXNCO0VBQ3RCLGtCQUFrQjtBQUNwQjtBQUNBOzs7RUFHRSxtQkFBbUI7RUFDbkIsU0FBUztFQUNULFVBQVU7QUFDWjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixlQUFlO0VBQ2Ysa0JBQWtCO0VBQ2xCLGlCQUFpQjtFQUNqQixnQkFBZ0I7RUFDaEIsZUFBZTs7RUFFZix3QkFBd0I7RUFDeEIscUJBQXFCO0VBQ3JCLHdCQUF3QjtFQUN4Qix1QkFBdUI7O0VBRXZCLGlCQUFpQjtBQUNuQjs7QUFFQTtFQUNFLDZCQUE2QjtFQUM3Qix5REFBNkM7RUFDN0Msc0JBQXNCO0VBQ3RCLFlBQVk7RUFDWix5Q0FBeUM7RUFDekMsYUFBYTtBQUNmOztBQUVBO0VBQ0UsYUFBYTtFQUNiLGNBQWM7RUFDZCxXQUFXO0VBQ1gsb0NBQW9DO0VBQ3BDLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIsbUJBQW1CO0VBQ25CLGFBQWE7QUFDZjs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxtQkFBbUI7RUFDbkIsNkJBQTZCO0VBQzdCLFlBQVk7RUFDWixZQUFZO0VBQ1osZUFBZTtFQUNmLGtCQUFrQjtFQUNsQixhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxhQUFhO0VBQ2IsV0FBVztFQUNYLDZCQUE2QjtBQUMvQjs7QUFFQTtFQUNFLGFBQWE7QUFDZjs7QUFFQTtFQUNFLHdCQUF3QjtFQUN4Qix1QkFBdUI7RUFDdkIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0U7O2tDQUVnQztBQUNsQzs7QUFFQTtFQUNFLFVBQVU7RUFDVjs7K0JBRTZCO0FBQy9COztBQUVBO0VBQ0UsZUFBZTtFQUNmOztpQ0FFK0I7QUFDakM7O0FBRUE7RUFDRSxVQUFVO0VBQ1Y7a0RBQ2dEO0FBQ2xEOztBQUVBO0VBQ0UseUNBQXlDO0FBQzNDO0FBQ0E7RUFDRSx1Q0FBdUM7QUFDekM7QUFDQTtFQUNFOzs7Ozs7Ozs7R0FTQztFQUNELGdDQUFnQztBQUNsQzs7QUFFQTtFQUNFLGFBQWE7RUFDYix1QkFBdUI7RUFDdkIsbUJBQW1CO0VBQ25CLGtCQUFrQjtBQUNwQjtBQUNBO0VBQ0UsV0FBVztFQUNYLHdCQUF3QjtFQUN4QiwyQkFBMkI7RUFDM0Isa0JBQWtCO0VBQ2xCLHdCQUF3QjtFQUN4QixnQ0FBZ0M7QUFDbEM7QUFDQTtFQUNFLFdBQVc7RUFDWCx3QkFBd0I7RUFDeEIsMkJBQTJCO0VBQzNCLGtCQUFrQjtFQUNsQix5QkFBeUI7RUFDekIsZ0NBQWdDO0FBQ2xDOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFFBQVE7RUFDUixTQUFTO0VBQ1QsaUJBQWlCO0VBQ2pCLFlBQVk7RUFDWix3QkFBd0I7RUFDeEIsdUJBQXVCO0VBQ3ZCLHNCQUFzQjtFQUN0QixvQkFBb0I7RUFDcEIsVUFBVTtBQUNaXCIsXCJzb3VyY2VzQ29udGVudFwiOltcImh0bWwge1xcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIG92ZXJmbG93LXg6IGhpZGRlbjtcXG59XFxuKixcXG4qOjphZnRlcixcXG4qOjpiZWZvcmUge1xcbiAgYm94LXNpemluZzogaW5oZXJpdDtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDA7XFxufVxcblxcbjpyb290IHtcXG4gIC0tc3VjY2VzczogIzI4YTc0NTtcXG4gIC0taW5mbzogIzE3YTJiODtcXG4gIC0td2FybmluZzogI2ZmYzEwNztcXG4gIC0tZGFuZ2VyOiAjZGMzNTQ1O1xcbiAgLS1saWdodDogI2Y4ZjlmYTtcXG4gIC0tZGFyazogIzM0M2E0MDtcXG5cXG4gIC0tc3VjY2Vzcy1ob3ZlcjogIzMxYjE0ZjtcXG4gIC0taW5mby1ob3ZlcjogIzJjYThiYjtcXG4gIC0td2FybmluZy1ob3ZlcjogI2ZmYzkyOTtcXG4gIC0tZGFuZ2VyLWhvdmVyOiAjZmQzZTUxO1xcblxcbiAgLS10aWxlLXNpemU6IDMycHg7XFxufVxcblxcbmJvZHkge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZGFyayk7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJy4vaW1nL2JhY2tncm91bmQuanBnJyk7XFxuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XFxuICBkaXNwbGF5OiBmbGV4O1xcbn1cXG5cXG4ub3ZlcmxheSB7XFxuICBoZWlnaHQ6IDEwMHZoO1xcbiAgaGVpZ2h0OiAxMDBzdmg7XFxuICB3aWR0aDogMTAwJTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC40KTtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIHBhZGRpbmc6IDE1cHg7XFxufVxcblxcbi5zdGF0dXMge1xcbiAgZm9udC1zaXplOiAyLjVyZW07XFxuICBtYXJnaW4tYm90dG9tOiA1MHB4O1xcbn1cXG5cXG4uYXhpcy1idXR0b24ge1xcbiAgbWFyZ2luLWJvdHRvbTogMTVweDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWluZm8pO1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgcGFkZGluZzogN3B4O1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLmdhbWVib2FyZHMge1xcbiAgZGlzcGxheTogZmxleDtcXG4gIHdpZHRoOiAxMDAlO1xcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7XFxufVxcblxcbi5nYW1lYm9hcmQge1xcbiAgZGlzcGxheTogZ3JpZDtcXG59XFxuXFxuLnRpbGUge1xcbiAgaGVpZ2h0OiB2YXIoLS10aWxlLXNpemUpO1xcbiAgd2lkdGg6IHZhcigtLXRpbGUtc2l6ZSk7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxufVxcblxcbi5nYW1lYm9hcmQtcGxheWVyIC50aWxlIHtcXG4gIGJveC1zaGFkb3c6IDJweCAwIDAgMCB2YXIoLS1zdWNjZXNzKSwgMCAycHggMCAwIHZhcigtLXN1Y2Nlc3MpLFxcbiAgICAycHggMnB4IDAgMCB2YXIoLS1zdWNjZXNzKSwgMnB4IDAgMCAwIHZhcigtLXN1Y2Nlc3MpIGluc2V0LFxcbiAgICAwIDJweCAwIDAgdmFyKC0tc3VjY2VzcykgaW5zZXQ7XFxufVxcblxcbi5nYW1lYm9hcmQtcGxheWVyIC50aWxlOmhvdmVyIHtcXG4gIHotaW5kZXg6IDE7XFxuICBib3gtc2hhZG93OiAycHggMCAwIDAgZ3JlZW55ZWxsb3csIDAgMnB4IDAgMCBncmVlbnllbGxvdyxcXG4gICAgMnB4IDJweCAwIDAgZ3JlZW55ZWxsb3csIDJweCAwIDAgMCBncmVlbnllbGxvdyBpbnNldCxcXG4gICAgMCAycHggMCAwIGdyZWVueWVsbG93IGluc2V0O1xcbn1cXG5cXG4uZ2FtZWJvYXJkLWNvbXB1dGVyIC50aWxlIHtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGJveC1zaGFkb3c6IDJweCAwIDAgMCB2YXIoLS1kYW5nZXIpLCAwIDJweCAwIDAgdmFyKC0tZGFuZ2VyKSxcXG4gICAgMnB4IDJweCAwIDAgdmFyKC0tZGFuZ2VyKSwgMnB4IDAgMCAwIHZhcigtLWRhbmdlcikgaW5zZXQsXFxuICAgIDAgMnB4IDAgMCB2YXIoLS1kYW5nZXIpIGluc2V0O1xcbn1cXG5cXG4uZ2FtZWJvYXJkLWNvbXB1dGVyIC50aWxlOmhvdmVyIHtcXG4gIHotaW5kZXg6IDE7XFxuICBib3gtc2hhZG93OiAycHggMCAwIDAgb3JhbmdlLCAwIDJweCAwIDAgb3JhbmdlLCAycHggMnB4IDAgMCBvcmFuZ2UsXFxuICAgIDJweCAwIDAgMCBvcmFuZ2UgaW5zZXQsIDAgMnB4IDAgMCBvcmFuZ2UgaW5zZXQ7XFxufVxcblxcbi50aWxlW3NoaXA9J2FsaXZlJ10ge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgxNTMsIDI1NSwgMCwgMC42NSk7XFxufVxcbi50aWxlW3NoaXA9J2F0dGFja2VkJ10ge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDAsIDAsIDAuNjUpO1xcbn1cXG4udGlsZVtzaGlwPSdkZXN0cm95ZWQnXSB7XFxuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoXFxuICAgIDQ1ZGVnLFxcbiAgICAjMDAwMDAwIDI1JSxcXG4gICAgI2ZmMDAwMCAyNSUsXFxuICAgICNmZjAwMDAgNTAlLFxcbiAgICAjMDAwMDAwIDUwJSxcXG4gICAgIzAwMDAwMCA3NSUsXFxuICAgICNmZjAwMDAgNzUlLFxcbiAgICAjZmYwMDAwIDEwMCVcXG4gICk7XFxuICBiYWNrZ3JvdW5kLXNpemU6IDExLjMxcHggMTEuMzFweDtcXG59XFxuXFxuLnRpbGVbYXR0YWNrZWRdIHtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcbi50aWxlW2F0dGFja2VkXTo6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6ICcnO1xcbiAgaGVpZ2h0OiB2YXIoLS10aWxlLXNpemUpO1xcbiAgYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCAjZmZmO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgdHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpO1xcbiAgbGVmdDogY2FsYyh2YXIoLS10aWxlLXNpemUpIC8gMik7XFxufVxcbi50aWxlW2F0dGFja2VkXTo6YWZ0ZXIge1xcbiAgY29udGVudDogJyc7XFxuICBoZWlnaHQ6IHZhcigtLXRpbGUtc2l6ZSk7XFxuICBib3JkZXItbGVmdDogMnB4IHNvbGlkICNmZmY7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xcbiAgbGVmdDogY2FsYyh2YXIoLS10aWxlLXNpemUpIC8gMik7XFxufVxcblxcbi50aWxlW3BsYWNpbmddID4gLmhpZ2hsaWdodCB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDFweDtcXG4gIGxlZnQ6IDFweDtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xcbiAgY29sb3I6IHdoaXRlO1xcbiAgaGVpZ2h0OiB2YXIoLS10aWxlLXNpemUpO1xcbiAgd2lkdGg6IHZhcigtLXRpbGUtc2l6ZSk7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBjeWFuO1xcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxuICB6LWluZGV4OiAxO1xcbn1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107XG5cbiAgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07XG5cbiAgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2tdKTtcbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN1cHBvcnRzKSB7XG4gICAgICAgIGlmICghaXRlbVs0XSkge1xuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICBpZiAoIXVybCkge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgdXJsID0gU3RyaW5nKHVybC5fX2VzTW9kdWxlID8gdXJsLmRlZmF1bHQgOiB1cmwpO1xuXG4gIC8vIElmIHVybCBpcyBhbHJlYWR5IHdyYXBwZWQgaW4gcXVvdGVzLCByZW1vdmUgdGhlbVxuICBpZiAoL15bJ1wiXS4qWydcIl0kLy50ZXN0KHVybCkpIHtcbiAgICB1cmwgPSB1cmwuc2xpY2UoMSwgLTEpO1xuICB9XG4gIGlmIChvcHRpb25zLmhhc2gpIHtcbiAgICB1cmwgKz0gb3B0aW9ucy5oYXNoO1xuICB9XG5cbiAgLy8gU2hvdWxkIHVybCBiZSB3cmFwcGVkP1xuICAvLyBTZWUgaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy12YWx1ZXMtMy8jdXJsc1xuICBpZiAoL1tcIicoKSBcXHRcXG5dfCglMjApLy50ZXN0KHVybCkgfHwgb3B0aW9ucy5uZWVkUXVvdGVzKSB7XG4gICAgcmV0dXJuIFwiXFxcIlwiLmNvbmNhdCh1cmwucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpLnJlcGxhY2UoL1xcbi9nLCBcIlxcXFxuXCIpLCBcIlxcXCJcIik7XG4gIH1cbiAgcmV0dXJuIHVybDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMCwyMDExLDIwMTIsMjAxMywyMDE0IE1vcmdhbiBSb2RlcmljayBodHRwOi8vcm9kZXJpY2suZGtcbiAqIExpY2Vuc2U6IE1JVCAtIGh0dHA6Ly9tcmducmRyY2subWl0LWxpY2Vuc2Uub3JnXG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL21yb2Rlcmljay9QdWJTdWJKU1xuICovXG5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIFB1YlN1YiA9IHt9O1xuXG4gICAgaWYgKHJvb3QuUHViU3ViKSB7XG4gICAgICAgIFB1YlN1YiA9IHJvb3QuUHViU3ViO1xuICAgICAgICBjb25zb2xlLndhcm4oXCJQdWJTdWIgYWxyZWFkeSBsb2FkZWQsIHVzaW5nIGV4aXN0aW5nIHZlcnNpb25cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcm9vdC5QdWJTdWIgPSBQdWJTdWI7XG4gICAgICAgIGZhY3RvcnkoUHViU3ViKTtcbiAgICB9XG4gICAgLy8gQ29tbW9uSlMgYW5kIE5vZGUuanMgbW9kdWxlIHN1cHBvcnRcbiAgICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKXtcbiAgICAgICAgaWYgKG1vZHVsZSAhPT0gdW5kZWZpbmVkICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgICAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBQdWJTdWI7IC8vIE5vZGUuanMgc3BlY2lmaWMgYG1vZHVsZS5leHBvcnRzYFxuICAgICAgICB9XG4gICAgICAgIGV4cG9ydHMuUHViU3ViID0gUHViU3ViOyAvLyBDb21tb25KUyBtb2R1bGUgMS4xLjEgc3BlY1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBQdWJTdWI7IC8vIENvbW1vbkpTXG4gICAgfVxuICAgIC8vIEFNRCBzdXBwb3J0XG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cbiAgICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpe1xuICAgICAgICBkZWZpbmUoZnVuY3Rpb24oKSB7IHJldHVybiBQdWJTdWI7IH0pO1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLXVuZGVmICovXG4gICAgfVxuXG59KCggdHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgd2luZG93ICkgfHwgdGhpcywgZnVuY3Rpb24gKFB1YlN1Yil7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIG1lc3NhZ2VzID0ge30sXG4gICAgICAgIGxhc3RVaWQgPSAtMSxcbiAgICAgICAgQUxMX1NVQlNDUklCSU5HX01TRyA9ICcqJztcblxuICAgIGZ1bmN0aW9uIGhhc0tleXMob2JqKXtcbiAgICAgICAgdmFyIGtleTtcblxuICAgICAgICBmb3IgKGtleSBpbiBvYmope1xuICAgICAgICAgICAgaWYgKCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpICl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHRocm93cyB0aGUgcGFzc2VkIGV4Y2VwdGlvbiwgZm9yIHVzZSBhcyBhcmd1bWVudCBmb3Igc2V0VGltZW91dFxuICAgICAqIEBhbGlhcyB0aHJvd0V4Y2VwdGlvblxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IGV4IEFuIEVycm9yIG9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocm93RXhjZXB0aW9uKCBleCApe1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gcmVUaHJvd0V4Y2VwdGlvbigpe1xuICAgICAgICAgICAgdGhyb3cgZXg7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FsbFN1YnNjcmliZXJXaXRoRGVsYXllZEV4Y2VwdGlvbnMoIHN1YnNjcmliZXIsIG1lc3NhZ2UsIGRhdGEgKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIoIG1lc3NhZ2UsIGRhdGEgKTtcbiAgICAgICAgfSBjYXRjaCggZXggKXtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoIHRocm93RXhjZXB0aW9uKCBleCApLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbGxTdWJzY3JpYmVyV2l0aEltbWVkaWF0ZUV4Y2VwdGlvbnMoIHN1YnNjcmliZXIsIG1lc3NhZ2UsIGRhdGEgKXtcbiAgICAgICAgc3Vic2NyaWJlciggbWVzc2FnZSwgZGF0YSApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlbGl2ZXJNZXNzYWdlKCBvcmlnaW5hbE1lc3NhZ2UsIG1hdGNoZWRNZXNzYWdlLCBkYXRhLCBpbW1lZGlhdGVFeGNlcHRpb25zICl7XG4gICAgICAgIHZhciBzdWJzY3JpYmVycyA9IG1lc3NhZ2VzW21hdGNoZWRNZXNzYWdlXSxcbiAgICAgICAgICAgIGNhbGxTdWJzY3JpYmVyID0gaW1tZWRpYXRlRXhjZXB0aW9ucyA/IGNhbGxTdWJzY3JpYmVyV2l0aEltbWVkaWF0ZUV4Y2VwdGlvbnMgOiBjYWxsU3Vic2NyaWJlcldpdGhEZWxheWVkRXhjZXB0aW9ucyxcbiAgICAgICAgICAgIHM7XG5cbiAgICAgICAgaWYgKCAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCBtZXNzYWdlcywgbWF0Y2hlZE1lc3NhZ2UgKSApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAocyBpbiBzdWJzY3JpYmVycyl7XG4gICAgICAgICAgICBpZiAoIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzdWJzY3JpYmVycywgcykpe1xuICAgICAgICAgICAgICAgIGNhbGxTdWJzY3JpYmVyKCBzdWJzY3JpYmVyc1tzXSwgb3JpZ2luYWxNZXNzYWdlLCBkYXRhICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVEZWxpdmVyeUZ1bmN0aW9uKCBtZXNzYWdlLCBkYXRhLCBpbW1lZGlhdGVFeGNlcHRpb25zICl7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBkZWxpdmVyTmFtZXNwYWNlZCgpe1xuICAgICAgICAgICAgdmFyIHRvcGljID0gU3RyaW5nKCBtZXNzYWdlICksXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSB0b3BpYy5sYXN0SW5kZXhPZiggJy4nICk7XG5cbiAgICAgICAgICAgIC8vIGRlbGl2ZXIgdGhlIG1lc3NhZ2UgYXMgaXQgaXMgbm93XG4gICAgICAgICAgICBkZWxpdmVyTWVzc2FnZShtZXNzYWdlLCBtZXNzYWdlLCBkYXRhLCBpbW1lZGlhdGVFeGNlcHRpb25zKTtcblxuICAgICAgICAgICAgLy8gdHJpbSB0aGUgaGllcmFyY2h5IGFuZCBkZWxpdmVyIG1lc3NhZ2UgdG8gZWFjaCBsZXZlbFxuICAgICAgICAgICAgd2hpbGUoIHBvc2l0aW9uICE9PSAtMSApe1xuICAgICAgICAgICAgICAgIHRvcGljID0gdG9waWMuc3Vic3RyKCAwLCBwb3NpdGlvbiApO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdG9waWMubGFzdEluZGV4T2YoJy4nKTtcbiAgICAgICAgICAgICAgICBkZWxpdmVyTWVzc2FnZSggbWVzc2FnZSwgdG9waWMsIGRhdGEsIGltbWVkaWF0ZUV4Y2VwdGlvbnMgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGVsaXZlck1lc3NhZ2UobWVzc2FnZSwgQUxMX1NVQlNDUklCSU5HX01TRywgZGF0YSwgaW1tZWRpYXRlRXhjZXB0aW9ucyk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFzRGlyZWN0U3Vic2NyaWJlcnNGb3IoIG1lc3NhZ2UgKSB7XG4gICAgICAgIHZhciB0b3BpYyA9IFN0cmluZyggbWVzc2FnZSApLFxuICAgICAgICAgICAgZm91bmQgPSBCb29sZWFuKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCggbWVzc2FnZXMsIHRvcGljICkgJiYgaGFzS2V5cyhtZXNzYWdlc1t0b3BpY10pKTtcblxuICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWVzc2FnZUhhc1N1YnNjcmliZXJzKCBtZXNzYWdlICl7XG4gICAgICAgIHZhciB0b3BpYyA9IFN0cmluZyggbWVzc2FnZSApLFxuICAgICAgICAgICAgZm91bmQgPSBoYXNEaXJlY3RTdWJzY3JpYmVyc0Zvcih0b3BpYykgfHwgaGFzRGlyZWN0U3Vic2NyaWJlcnNGb3IoQUxMX1NVQlNDUklCSU5HX01TRyksXG4gICAgICAgICAgICBwb3NpdGlvbiA9IHRvcGljLmxhc3RJbmRleE9mKCAnLicgKTtcblxuICAgICAgICB3aGlsZSAoICFmb3VuZCAmJiBwb3NpdGlvbiAhPT0gLTEgKXtcbiAgICAgICAgICAgIHRvcGljID0gdG9waWMuc3Vic3RyKCAwLCBwb3NpdGlvbiApO1xuICAgICAgICAgICAgcG9zaXRpb24gPSB0b3BpYy5sYXN0SW5kZXhPZiggJy4nICk7XG4gICAgICAgICAgICBmb3VuZCA9IGhhc0RpcmVjdFN1YnNjcmliZXJzRm9yKHRvcGljKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmb3VuZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwdWJsaXNoKCBtZXNzYWdlLCBkYXRhLCBzeW5jLCBpbW1lZGlhdGVFeGNlcHRpb25zICl7XG4gICAgICAgIG1lc3NhZ2UgPSAodHlwZW9mIG1lc3NhZ2UgPT09ICdzeW1ib2wnKSA/IG1lc3NhZ2UudG9TdHJpbmcoKSA6IG1lc3NhZ2U7XG5cbiAgICAgICAgdmFyIGRlbGl2ZXIgPSBjcmVhdGVEZWxpdmVyeUZ1bmN0aW9uKCBtZXNzYWdlLCBkYXRhLCBpbW1lZGlhdGVFeGNlcHRpb25zICksXG4gICAgICAgICAgICBoYXNTdWJzY3JpYmVycyA9IG1lc3NhZ2VIYXNTdWJzY3JpYmVycyggbWVzc2FnZSApO1xuXG4gICAgICAgIGlmICggIWhhc1N1YnNjcmliZXJzICl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIHN5bmMgPT09IHRydWUgKXtcbiAgICAgICAgICAgIGRlbGl2ZXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoIGRlbGl2ZXIsIDAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQdWJsaXNoZXMgdGhlIG1lc3NhZ2UsIHBhc3NpbmcgdGhlIGRhdGEgdG8gaXQncyBzdWJzY3JpYmVyc1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBhbGlhcyBwdWJsaXNoXG4gICAgICogQHBhcmFtIHsgU3RyaW5nIH0gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBwdWJsaXNoXG4gICAgICogQHBhcmFtIHt9IGRhdGEgVGhlIGRhdGEgdG8gcGFzcyB0byBzdWJzY3JpYmVyc1xuICAgICAqIEByZXR1cm4geyBCb29sZWFuIH1cbiAgICAgKi9cbiAgICBQdWJTdWIucHVibGlzaCA9IGZ1bmN0aW9uKCBtZXNzYWdlLCBkYXRhICl7XG4gICAgICAgIHJldHVybiBwdWJsaXNoKCBtZXNzYWdlLCBkYXRhLCBmYWxzZSwgUHViU3ViLmltbWVkaWF0ZUV4Y2VwdGlvbnMgKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHVibGlzaGVzIHRoZSBtZXNzYWdlIHN5bmNocm9ub3VzbHksIHBhc3NpbmcgdGhlIGRhdGEgdG8gaXQncyBzdWJzY3JpYmVyc1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBhbGlhcyBwdWJsaXNoU3luY1xuICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gcHVibGlzaFxuICAgICAqIEBwYXJhbSB7fSBkYXRhIFRoZSBkYXRhIHRvIHBhc3MgdG8gc3Vic2NyaWJlcnNcbiAgICAgKiBAcmV0dXJuIHsgQm9vbGVhbiB9XG4gICAgICovXG4gICAgUHViU3ViLnB1Ymxpc2hTeW5jID0gZnVuY3Rpb24oIG1lc3NhZ2UsIGRhdGEgKXtcbiAgICAgICAgcmV0dXJuIHB1Ymxpc2goIG1lc3NhZ2UsIGRhdGEsIHRydWUsIFB1YlN1Yi5pbW1lZGlhdGVFeGNlcHRpb25zICk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZXMgdGhlIHBhc3NlZCBmdW5jdGlvbiB0byB0aGUgcGFzc2VkIG1lc3NhZ2UuIEV2ZXJ5IHJldHVybmVkIHRva2VuIGlzIHVuaXF1ZSBhbmQgc2hvdWxkIGJlIHN0b3JlZCBpZiB5b3UgbmVlZCB0byB1bnN1YnNjcmliZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBhbGlhcyBzdWJzY3JpYmVcbiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIHN1YnNjcmliZSB0b1xuICAgICAqIEBwYXJhbSB7IEZ1bmN0aW9uIH0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGEgbmV3IG1lc3NhZ2UgaXMgcHVibGlzaGVkXG4gICAgICogQHJldHVybiB7IFN0cmluZyB9XG4gICAgICovXG4gICAgUHViU3ViLnN1YnNjcmliZSA9IGZ1bmN0aW9uKCBtZXNzYWdlLCBmdW5jICl7XG4gICAgICAgIGlmICggdHlwZW9mIGZ1bmMgIT09ICdmdW5jdGlvbicpe1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgbWVzc2FnZSA9ICh0eXBlb2YgbWVzc2FnZSA9PT0gJ3N5bWJvbCcpID8gbWVzc2FnZS50b1N0cmluZygpIDogbWVzc2FnZTtcblxuICAgICAgICAvLyBtZXNzYWdlIGlzIG5vdCByZWdpc3RlcmVkIHlldFxuICAgICAgICBpZiAoICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoIG1lc3NhZ2VzLCBtZXNzYWdlICkgKXtcbiAgICAgICAgICAgIG1lc3NhZ2VzW21lc3NhZ2VdID0ge307XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmb3JjaW5nIHRva2VuIGFzIFN0cmluZywgdG8gYWxsb3cgZm9yIGZ1dHVyZSBleHBhbnNpb25zIHdpdGhvdXQgYnJlYWtpbmcgdXNhZ2VcbiAgICAgICAgLy8gYW5kIGFsbG93IGZvciBlYXN5IHVzZSBhcyBrZXkgbmFtZXMgZm9yIHRoZSAnbWVzc2FnZXMnIG9iamVjdFxuICAgICAgICB2YXIgdG9rZW4gPSAndWlkXycgKyBTdHJpbmcoKytsYXN0VWlkKTtcbiAgICAgICAgbWVzc2FnZXNbbWVzc2FnZV1bdG9rZW5dID0gZnVuYztcblxuICAgICAgICAvLyByZXR1cm4gdG9rZW4gZm9yIHVuc3Vic2NyaWJpbmdcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH07XG5cbiAgICBQdWJTdWIuc3Vic2NyaWJlQWxsID0gZnVuY3Rpb24oIGZ1bmMgKXtcbiAgICAgICAgcmV0dXJuIFB1YlN1Yi5zdWJzY3JpYmUoQUxMX1NVQlNDUklCSU5HX01TRywgZnVuYyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZXMgdGhlIHBhc3NlZCBmdW5jdGlvbiB0byB0aGUgcGFzc2VkIG1lc3NhZ2Ugb25jZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBhbGlhcyBzdWJzY3JpYmVPbmNlXG4gICAgICogQHBhcmFtIHsgU3RyaW5nIH0gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBzdWJzY3JpYmUgdG9cbiAgICAgKiBAcGFyYW0geyBGdW5jdGlvbiB9IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBhIG5ldyBtZXNzYWdlIGlzIHB1Ymxpc2hlZFxuICAgICAqIEByZXR1cm4geyBQdWJTdWIgfVxuICAgICAqL1xuICAgIFB1YlN1Yi5zdWJzY3JpYmVPbmNlID0gZnVuY3Rpb24oIG1lc3NhZ2UsIGZ1bmMgKXtcbiAgICAgICAgdmFyIHRva2VuID0gUHViU3ViLnN1YnNjcmliZSggbWVzc2FnZSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIC8vIGJlZm9yZSBmdW5jIGFwcGx5LCB1bnN1YnNjcmliZSBtZXNzYWdlXG4gICAgICAgICAgICBQdWJTdWIudW5zdWJzY3JpYmUoIHRva2VuICk7XG4gICAgICAgICAgICBmdW5jLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBQdWJTdWI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFycyBhbGwgc3Vic2NyaXB0aW9uc1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAYWxpYXMgY2xlYXJBbGxTdWJzY3JpcHRpb25zXG4gICAgICovXG4gICAgUHViU3ViLmNsZWFyQWxsU3Vic2NyaXB0aW9ucyA9IGZ1bmN0aW9uIGNsZWFyQWxsU3Vic2NyaXB0aW9ucygpe1xuICAgICAgICBtZXNzYWdlcyA9IHt9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciBzdWJzY3JpcHRpb25zIGJ5IHRoZSB0b3BpY1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAYWxpYXMgY2xlYXJBbGxTdWJzY3JpcHRpb25zXG4gICAgICogQHJldHVybiB7IGludCB9XG4gICAgICovXG4gICAgUHViU3ViLmNsZWFyU3Vic2NyaXB0aW9ucyA9IGZ1bmN0aW9uIGNsZWFyU3Vic2NyaXB0aW9ucyh0b3BpYyl7XG4gICAgICAgIHZhciBtO1xuICAgICAgICBmb3IgKG0gaW4gbWVzc2FnZXMpe1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtZXNzYWdlcywgbSkgJiYgbS5pbmRleE9mKHRvcGljKSA9PT0gMCl7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG1lc3NhZ2VzW21dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAgIENvdW50IHN1YnNjcmlwdGlvbnMgYnkgdGhlIHRvcGljXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBhbGlhcyBjb3VudFN1YnNjcmlwdGlvbnNcbiAgICAgKiBAcmV0dXJuIHsgQXJyYXkgfVxuICAgICovXG4gICAgUHViU3ViLmNvdW50U3Vic2NyaXB0aW9ucyA9IGZ1bmN0aW9uIGNvdW50U3Vic2NyaXB0aW9ucyh0b3BpYyl7XG4gICAgICAgIHZhciBtO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICAgICAgdmFyIHRva2VuO1xuICAgICAgICB2YXIgY291bnQgPSAwO1xuICAgICAgICBmb3IgKG0gaW4gbWVzc2FnZXMpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobWVzc2FnZXMsIG0pICYmIG0uaW5kZXhPZih0b3BpYykgPT09IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKHRva2VuIGluIG1lc3NhZ2VzW21dKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb3VudDtcbiAgICB9O1xuXG5cbiAgICAvKipcbiAgICAgICBHZXRzIHN1YnNjcmlwdGlvbnMgYnkgdGhlIHRvcGljXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBhbGlhcyBnZXRTdWJzY3JpcHRpb25zXG4gICAgKi9cbiAgICBQdWJTdWIuZ2V0U3Vic2NyaXB0aW9ucyA9IGZ1bmN0aW9uIGdldFN1YnNjcmlwdGlvbnModG9waWMpe1xuICAgICAgICB2YXIgbTtcbiAgICAgICAgdmFyIGxpc3QgPSBbXTtcbiAgICAgICAgZm9yIChtIGluIG1lc3NhZ2VzKXtcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobWVzc2FnZXMsIG0pICYmIG0uaW5kZXhPZih0b3BpYykgPT09IDApe1xuICAgICAgICAgICAgICAgIGxpc3QucHVzaChtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbGlzdDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBzdWJzY3JpcHRpb25zXG4gICAgICpcbiAgICAgKiAtIFdoZW4gcGFzc2VkIGEgdG9rZW4sIHJlbW92ZXMgYSBzcGVjaWZpYyBzdWJzY3JpcHRpb24uXG4gICAgICpcblx0ICogLSBXaGVuIHBhc3NlZCBhIGZ1bmN0aW9uLCByZW1vdmVzIGFsbCBzdWJzY3JpcHRpb25zIGZvciB0aGF0IGZ1bmN0aW9uXG4gICAgICpcblx0ICogLSBXaGVuIHBhc3NlZCBhIHRvcGljLCByZW1vdmVzIGFsbCBzdWJzY3JpcHRpb25zIGZvciB0aGF0IHRvcGljIChoaWVyYXJjaHkpXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBhbGlhcyBzdWJzY3JpYmVPbmNlXG4gICAgICogQHBhcmFtIHsgU3RyaW5nIHwgRnVuY3Rpb24gfSB2YWx1ZSBBIHRva2VuLCBmdW5jdGlvbiBvciB0b3BpYyB0byB1bnN1YnNjcmliZSBmcm9tXG4gICAgICogQGV4YW1wbGUgLy8gVW5zdWJzY3JpYmluZyB3aXRoIGEgdG9rZW5cbiAgICAgKiB2YXIgdG9rZW4gPSBQdWJTdWIuc3Vic2NyaWJlKCdteXRvcGljJywgbXlGdW5jKTtcbiAgICAgKiBQdWJTdWIudW5zdWJzY3JpYmUodG9rZW4pO1xuICAgICAqIEBleGFtcGxlIC8vIFVuc3Vic2NyaWJpbmcgd2l0aCBhIGZ1bmN0aW9uXG4gICAgICogUHViU3ViLnVuc3Vic2NyaWJlKG15RnVuYyk7XG4gICAgICogQGV4YW1wbGUgLy8gVW5zdWJzY3JpYmluZyBmcm9tIGEgdG9waWNcbiAgICAgKiBQdWJTdWIudW5zdWJzY3JpYmUoJ215dG9waWMnKTtcbiAgICAgKi9cbiAgICBQdWJTdWIudW5zdWJzY3JpYmUgPSBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgIHZhciBkZXNjZW5kYW50VG9waWNFeGlzdHMgPSBmdW5jdGlvbih0b3BpYykge1xuICAgICAgICAgICAgICAgIHZhciBtO1xuICAgICAgICAgICAgICAgIGZvciAoIG0gaW4gbWVzc2FnZXMgKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobWVzc2FnZXMsIG0pICYmIG0uaW5kZXhPZih0b3BpYykgPT09IDAgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGEgZGVzY2VuZGFudCBvZiB0aGUgdG9waWMgZXhpc3RzOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNUb3BpYyAgICA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgKCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobWVzc2FnZXMsIHZhbHVlKSB8fCBkZXNjZW5kYW50VG9waWNFeGlzdHModmFsdWUpICksXG4gICAgICAgICAgICBpc1Rva2VuICAgID0gIWlzVG9waWMgJiYgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyxcbiAgICAgICAgICAgIGlzRnVuY3Rpb24gPSB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicsXG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZSxcbiAgICAgICAgICAgIG0sIG1lc3NhZ2UsIHQ7XG5cbiAgICAgICAgaWYgKGlzVG9waWMpe1xuICAgICAgICAgICAgUHViU3ViLmNsZWFyU3Vic2NyaXB0aW9ucyh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKCBtIGluIG1lc3NhZ2VzICl7XG4gICAgICAgICAgICBpZiAoIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCggbWVzc2FnZXMsIG0gKSApe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlc1ttXTtcblxuICAgICAgICAgICAgICAgIGlmICggaXNUb2tlbiAmJiBtZXNzYWdlW3ZhbHVlXSApe1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgbWVzc2FnZVt2YWx1ZV07XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAvLyB0b2tlbnMgYXJlIHVuaXF1ZSwgc28gd2UgY2FuIGp1c3Qgc3RvcCBoZXJlXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoIHQgaW4gbWVzc2FnZSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtZXNzYWdlLCB0KSAmJiBtZXNzYWdlW3RdID09PSB2YWx1ZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG1lc3NhZ2VbdF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbn0pKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5ET00gPSBbXTtcbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVwZGF0ZXIgPSBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMuYnlJbmRleCA9IGk7XG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiB1cGRhdGVyLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5mdW5jdGlvbiBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiB1cGRhdGVyO1xufVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG4gICAgICBpZiAoc3R5bGVzSW5ET01bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRE9NW19pbmRleF0udXBkYXRlcigpO1xuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuXG4gICAgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG4gIGNzcyArPSBvYmouY3NzO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9XG5cbiAgLy8gRm9yIG9sZCBJRVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge30sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgfTtcbiAgfVxuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0bG9hZGVkOiBmYWxzZSxcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG5cdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5ubWQgPSAobW9kdWxlKSA9PiB7XG5cdG1vZHVsZS5wYXRocyA9IFtdO1xuXHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdHJldHVybiBtb2R1bGU7XG59OyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYztcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSB7XG5cdFx0XHR2YXIgaSA9IHNjcmlwdHMubGVuZ3RoIC0gMTtcblx0XHRcdHdoaWxlIChpID4gLTEgJiYgIXNjcmlwdFVybCkgc2NyaXB0VXJsID0gc2NyaXB0c1tpLS1dLnNyYztcblx0XHR9XG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsIl9fd2VicGFja19yZXF1aXJlX18uYiA9IGRvY3VtZW50LmJhc2VVUkkgfHwgc2VsZi5sb2NhdGlvbi5ocmVmO1xuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDE3OTogMFxufTtcblxuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxuLy8gbm8gb24gY2h1bmtzIGxvYWRlZFxuXG4vLyBubyBqc29ucCBmdW5jdGlvbiIsIl9fd2VicGFja19yZXF1aXJlX18ubmMgPSB1bmRlZmluZWQ7IiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL21haW4uY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9tYWluLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsImltcG9ydCBQdWJTdWIgZnJvbSAncHVic3ViLWpzJztcblxuY29uc3QgZ2FtZUJvYXJkc0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZ2FtZWJvYXJkcycpO1xuY29uc3Qgc3RhdHVzRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdGF0dXMnKTtcbmNvbnN0IGF4aXNCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmF4aXMtYnV0dG9uJyk7XG5heGlzQnV0dG9uRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgUHViU3ViLnB1Ymxpc2goJ2F4aXNDaGFuZ2VkJyk7XG59KTtcblxuY29uc3QgaGFuZGxlRW5lbXlUaWxlQ2xpY2sgPSAoZSkgPT4ge1xuICBQdWJTdWIucHVibGlzaCgnZW5lbXlUaWxlQ2xpY2tlZCcsIHtcbiAgICByb3c6IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1yb3cnKSxcbiAgICBjb2x1bW46IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1jb2x1bW4nKSxcbiAgfSk7XG59O1xuXG5jb25zdCB0b2dnbGVUaWxlRXZlbnRMaXN0ZW5lcnMgPSAoYm9vbGVhbikgPT4ge1xuICBjb25zdCBlbmVteVRpbGVzID0gZ2FtZUJvYXJkc0VsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAnLmdhbWVib2FyZC1jb21wdXRlciA+IC50aWxlJ1xuICApO1xuICBpZiAoYm9vbGVhbikge1xuICAgIGVuZW15VGlsZXMuZm9yRWFjaCgodGlsZSkgPT4ge1xuICAgICAgdGlsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUVuZW15VGlsZUNsaWNrKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBlbmVteVRpbGVzLmZvckVhY2goKHRpbGUpID0+IHtcbiAgICAgIHRpbGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVFbmVteVRpbGVDbGljayk7XG4gICAgfSk7XG4gIH1cbn07XG5cbmNvbnN0IGNyZWF0ZURvbUVsZW1lbnQgPSAoXG4gIGVsZW1lbnRUeXBlID0gJ2RpdicsXG4gIGNsYXNzZXNTdHJpbmcgPSAnJyxcbiAgaW5uZXJIVE1MID0gJydcbikgPT4ge1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChlbGVtZW50VHlwZSk7XG4gIGVsZW1lbnQuY2xhc3NOYW1lID0gY2xhc3Nlc1N0cmluZztcbiAgZWxlbWVudC5pbm5lckhUTUwgPSBpbm5lckhUTUw7XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59O1xuXG5jb25zdCBjcmVhdGVUaWxlRWxlbWVudCA9ICh0aWxlLCBzaG93U2hpcHMgPSBmYWxzZSkgPT4ge1xuICBjb25zdCB0aWxlRWxlbWVudCA9IGNyZWF0ZURvbUVsZW1lbnQoJ2RpdicsICd0aWxlJyk7XG4gIHRpbGVFbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1yb3cnLCB0aWxlLnJvdyk7XG4gIHRpbGVFbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1jb2x1bW4nLCB0aWxlLmNvbHVtbik7XG5cbiAgaWYgKHRpbGUuYXR0YWNrZWQpIHtcbiAgICB0aWxlRWxlbWVudC50b2dnbGVBdHRyaWJ1dGUoJ2F0dGFja2VkJywgdHJ1ZSk7XG4gICAgaWYgKHRpbGUuc2hpcCkge1xuICAgICAgdGlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKCdzaGlwJywgJ2F0dGFja2VkJyk7XG4gICAgICBpZiAodGlsZS5zaGlwLnN1bmspIHtcbiAgICAgICAgdGlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKCdzaGlwJywgJ2Rlc3Ryb3llZCcpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChzaG93U2hpcHMpIHtcbiAgICBpZiAodGlsZS5zaGlwKSB7XG4gICAgICB0aWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NoaXAnLCAnYWxpdmUnKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRpbGVFbGVtZW50O1xufTtcblxuY29uc3QgY2hhbmdlU3RhdHVzID0gKHN0YXR1c01lc3NhZ2UpID0+IHtcbiAgc3RhdHVzRWxlbWVudC5pbm5lclRleHQgPSBzdGF0dXNNZXNzYWdlO1xufTtcblxuY29uc3QgcmVuZGVyR2FtZUJvYXJkcyA9IChwbGF5ZXJCb2FyZCwgY29tcHV0ZXJCb2FyZCwgZ3JpZFNpemUgPSAxMCkgPT4ge1xuICBnYW1lQm9hcmRzRWxlbWVudC5pbm5lckhUTUwgPSAnJztcbiAgY29uc3QgcGxheWVyVGlsZXMgPSBwbGF5ZXJCb2FyZC50aWxlcztcbiAgY29uc3QgY29tcHV0ZXJUaWxlcyA9IGNvbXB1dGVyQm9hcmQudGlsZXM7XG5cbiAgY29uc3QgcGxheWVyR2FtZUJvYXJkRWxlbWVudCA9IGNyZWF0ZURvbUVsZW1lbnQoXG4gICAgJ2RpdicsXG4gICAgJ2dhbWVib2FyZCBnYW1lYm9hcmQtcGxheWVyJ1xuICApO1xuICBwbGF5ZXJUaWxlcy5mb3JFYWNoKCh0aWxlKSA9PiB7XG4gICAgY29uc3QgdGlsZUVsZW1lbnQgPSBjcmVhdGVUaWxlRWxlbWVudCh0aWxlLCB0cnVlKTtcbiAgICBwbGF5ZXJHYW1lQm9hcmRFbGVtZW50LmFwcGVuZENoaWxkKHRpbGVFbGVtZW50KTtcbiAgfSk7XG5cbiAgY29uc3QgY29tcHV0ZXJHYW1lQm9hcmRFbGVtZW50ID0gY3JlYXRlRG9tRWxlbWVudChcbiAgICAnZGl2JyxcbiAgICAnZ2FtZWJvYXJkIGdhbWVib2FyZC1jb21wdXRlcidcbiAgKTtcbiAgY29tcHV0ZXJUaWxlcy5mb3JFYWNoKCh0aWxlKSA9PiB7XG4gICAgY29uc3QgdGlsZUVsZW1lbnQgPSBjcmVhdGVUaWxlRWxlbWVudCh0aWxlLCBmYWxzZSk7XG4gICAgY29tcHV0ZXJHYW1lQm9hcmRFbGVtZW50LmFwcGVuZENoaWxkKHRpbGVFbGVtZW50KTtcbiAgfSk7XG5cbiAgcGxheWVyR2FtZUJvYXJkRWxlbWVudC5zdHlsZS5ncmlkVGVtcGxhdGVDb2x1bW5zID0gYHJlcGVhdCgke2dyaWRTaXplfSwgMWZyKWA7XG4gIGNvbXB1dGVyR2FtZUJvYXJkRWxlbWVudC5zdHlsZS5ncmlkVGVtcGxhdGVDb2x1bW5zID0gYHJlcGVhdCgke2dyaWRTaXplfSwgMWZyKWA7XG4gIGF4aXNCdXR0b25FbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgZ2FtZUJvYXJkc0VsZW1lbnQuYXBwZW5kQ2hpbGQocGxheWVyR2FtZUJvYXJkRWxlbWVudCk7XG4gIGdhbWVCb2FyZHNFbGVtZW50LmFwcGVuZENoaWxkKGNvbXB1dGVyR2FtZUJvYXJkRWxlbWVudCk7XG59O1xuXG5jb25zdCByZW5kZXJJbml0R2FtZUJvYXJkID0gKFxuICBnYW1lQm9hcmQsXG4gIHBsYWNlZFNoaXBTaXplLFxuICBwbGFjZWRTaGlwRGlyZWN0aW9uLFxuICBncmlkU2l6ZVxuKSA9PiB7XG4gIGdhbWVCb2FyZHNFbGVtZW50LmlubmVySFRNTCA9ICcnO1xuICBjb25zdCBwbGF5ZXJUaWxlcyA9IGdhbWVCb2FyZC50aWxlcztcbiAgY29uc3QgcGxheWVyR2FtZUJvYXJkRWxlbWVudCA9IGNyZWF0ZURvbUVsZW1lbnQoXG4gICAgJ2RpdicsXG4gICAgJ2dhbWVib2FyZCBnYW1lYm9hcmQtcGxheWVyIGdhbWVib2FyZC1pbml0J1xuICApO1xuICBjb25zdCBzaGlwSGlnaGxpZ2h0RWxlbWVudCA9IGNyZWF0ZURvbUVsZW1lbnQoJ2RpdicsICdoaWdobGlnaHQnKTtcblxuICBwbGF5ZXJUaWxlcy5mb3JFYWNoKCh0aWxlKSA9PiB7XG4gICAgY29uc3QgdGlsZUVsZW1lbnQgPSBjcmVhdGVUaWxlRWxlbWVudCh0aWxlLCB0cnVlKTtcbiAgICB0aWxlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgKCkgPT4ge1xuICAgICAgdGlsZUVsZW1lbnQudG9nZ2xlQXR0cmlidXRlKCdwbGFjaW5nJywgdHJ1ZSk7XG4gICAgICBjb25zdCBoaWdobGlnaHQgPSBzaGlwSGlnaGxpZ2h0RWxlbWVudC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICBpZiAocGxhY2VkU2hpcERpcmVjdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICBoaWdobGlnaHQuc3R5bGUud2lkdGggPSBgY2FsYyh2YXIoLS10aWxlLXNpemUpKiR7cGxhY2VkU2hpcFNpemV9KWA7XG4gICAgICB9IGVsc2UgaWYgKHBsYWNlZFNoaXBEaXJlY3Rpb24gPT09ICdkb3duJykge1xuICAgICAgICBoaWdobGlnaHQuc3R5bGUuaGVpZ2h0ID0gYGNhbGModmFyKC0tdGlsZS1zaXplKSoke3BsYWNlZFNoaXBTaXplfSlgO1xuICAgICAgfVxuICAgICAgdGlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoaGlnaGxpZ2h0KTtcbiAgICB9KTtcbiAgICB0aWxlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgKCkgPT4ge1xuICAgICAgdGlsZUVsZW1lbnQudG9nZ2xlQXR0cmlidXRlKCdwbGFjaW5nJywgZmFsc2UpO1xuICAgICAgdGlsZUVsZW1lbnQuaW5uZXJIVE1MID0gJyc7XG4gICAgfSk7XG5cbiAgICB0aWxlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIFB1YlN1Yi5wdWJsaXNoKCdwbGF5ZXJUaWxlQ2xpY2tlZCcsIFt0aWxlLnJvdywgdGlsZS5jb2x1bW5dKTtcbiAgICB9KTtcbiAgICBwbGF5ZXJHYW1lQm9hcmRFbGVtZW50LmFwcGVuZENoaWxkKHRpbGVFbGVtZW50KTtcbiAgfSk7XG4gIHBsYXllckdhbWVCb2FyZEVsZW1lbnQuc3R5bGUuZ3JpZFRlbXBsYXRlQ29sdW1ucyA9IGByZXBlYXQoJHtncmlkU2l6ZX0sIDFmcilgO1xuICBheGlzQnV0dG9uRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuXG4gIGdhbWVCb2FyZHNFbGVtZW50LmFwcGVuZENoaWxkKHBsYXllckdhbWVCb2FyZEVsZW1lbnQpO1xufTtcblxuZXhwb3J0IHtcbiAgcmVuZGVyR2FtZUJvYXJkcyxcbiAgdG9nZ2xlVGlsZUV2ZW50TGlzdGVuZXJzLFxuICBjaGFuZ2VTdGF0dXMsXG4gIHJlbmRlckluaXRHYW1lQm9hcmQsXG59O1xuIiwiY29uc3QgU2hpcCA9IChsZW5ndGgpID0+IHtcbiAgaWYgKCFsZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBsZW5ndGgsXG4gICAgdGltZXNIaXQ6IDAsXG4gICAgc3VuazogZmFsc2UsXG4gICAgaGl0KCkge1xuICAgICAgdGhpcy50aW1lc0hpdCArPSAxO1xuICAgICAgdGhpcy5pc1N1bmsoKTtcbiAgICB9LFxuICAgIGlzU3VuaygpIHtcbiAgICAgIGlmICh0aGlzLnRpbWVzSGl0ID49IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuc3VuayA9IHRydWU7XG4gICAgICB9XG4gICAgfSxcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNoaXA7XG4iLCJpbXBvcnQgU2hpcCBmcm9tICcuL3NoaXAnO1xuXG5jb25zdCBUaWxlID0gKHJvdywgY29sdW1uLCBzaGlwID0gbnVsbCkgPT4ge1xuICBpZiAoIXJvdyB8fCAhY29sdW1uKSB7XG4gICAgdGhyb3cgRXJyb3IoJ0ludmFsaWQgY29vcmRpbmF0ZXMhJyk7XG4gIH1cbiAgcmV0dXJuIHsgcm93LCBjb2x1bW4sIHNoaXAsIGF0dGFja2VkOiBmYWxzZSB9O1xufTtcblxuY29uc3QgR2FtZUJvYXJkID0gKHNpemUgPSAxMCkgPT4ge1xuICBjb25zdCB0aWxlcyA9IFtdO1xuICBsZXQgY3VycmVudFJvdyA9IDE7XG4gIGxldCBjdXJyZW50Q29sdW1uID0gMTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplICogc2l6ZTsgaSArPSAxKSB7XG4gICAgdGlsZXMucHVzaChUaWxlKGN1cnJlbnRSb3csIGN1cnJlbnRDb2x1bW4pKTtcbiAgICBpZiAoY3VycmVudENvbHVtbiA8IHNpemUpIHtcbiAgICAgIGN1cnJlbnRDb2x1bW4gKz0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudENvbHVtbiA9IDE7XG4gICAgICBjdXJyZW50Um93ICs9IDE7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZ2V0U2hpcENvb3JkaW5hdGVzID0gKGhlYWQsIHNoaXBTaXplLCBkaXJlY3Rpb24pID0+IHtcbiAgICBjb25zdCBjb29yZGluYXRlcyA9IFtbLi4uaGVhZF1dO1xuICAgIGNvbnN0IGN1cnJlbnRDb29yZGluYXRlcyA9IFsuLi5oZWFkXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXBTaXplIC0gMTsgaSArPSAxKSB7XG4gICAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuICAgICAgICBjYXNlICd1cCc6XG4gICAgICAgICAgY3VycmVudENvb3JkaW5hdGVzWzBdIC09IDE7XG4gICAgICAgICAgY29vcmRpbmF0ZXMucHVzaChbLi4uY3VycmVudENvb3JkaW5hdGVzXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICBjdXJyZW50Q29vcmRpbmF0ZXNbMV0gKz0gMTtcbiAgICAgICAgICBjb29yZGluYXRlcy5wdXNoKFsuLi5jdXJyZW50Q29vcmRpbmF0ZXNdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZG93bic6XG4gICAgICAgICAgY3VycmVudENvb3JkaW5hdGVzWzBdICs9IDE7XG4gICAgICAgICAgY29vcmRpbmF0ZXMucHVzaChbLi4uY3VycmVudENvb3JkaW5hdGVzXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgIGN1cnJlbnRDb29yZGluYXRlc1sxXSAtPSAxO1xuICAgICAgICAgIGNvb3JkaW5hdGVzLnB1c2goWy4uLmN1cnJlbnRDb29yZGluYXRlc10pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29vcmRpbmF0ZXM7XG4gIH07XG5cbiAgY29uc3QgdmFsaWRhdGVDb29yZGluYXRlcyA9IChjb29yZGluYXRlLCBib2FyZFNpemUpID0+IHtcbiAgICBjb25zdCB2YWxpZCA9XG4gICAgICBjb29yZGluYXRlWzBdID49IDEgJiZcbiAgICAgIGNvb3JkaW5hdGVbMF0gPD0gYm9hcmRTaXplICYmXG4gICAgICBjb29yZGluYXRlWzFdID49IDEgJiZcbiAgICAgIGNvb3JkaW5hdGVbMV0gPD0gYm9hcmRTaXplO1xuXG4gICAgcmV0dXJuIHZhbGlkO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgdGlsZXMsXG4gICAgc2l6ZSxcbiAgICBhdHRhY2tlZENvb3JkaW5hdGVzOiBbXSxcbiAgICBzaGlwczogW10sXG5cbiAgICBnZXRBZGphY2VudENvb3JkaW5hdGVzKGNvb3JkaW5hdGVzKSB7XG4gICAgICBjb25zdCBhbGxBZGphY2VudENvb3JkaW5hdGVzID0gW1xuICAgICAgICBbY29vcmRpbmF0ZXNbMF0gLSAxLCBjb29yZGluYXRlc1sxXV0sXG4gICAgICAgIFtjb29yZGluYXRlc1swXSAtIDEsIGNvb3JkaW5hdGVzWzFdICsgMV0sXG4gICAgICAgIFtjb29yZGluYXRlc1swXSwgY29vcmRpbmF0ZXNbMV0gKyAxXSxcbiAgICAgICAgW2Nvb3JkaW5hdGVzWzBdICsgMSwgY29vcmRpbmF0ZXNbMV0gKyAxXSxcbiAgICAgICAgW2Nvb3JkaW5hdGVzWzBdICsgMSwgY29vcmRpbmF0ZXNbMV1dLFxuICAgICAgICBbY29vcmRpbmF0ZXNbMF0gKyAxLCBjb29yZGluYXRlc1sxXSAtIDFdLFxuICAgICAgICBbY29vcmRpbmF0ZXNbMF0sIGNvb3JkaW5hdGVzWzFdIC0gMV0sXG4gICAgICAgIFtjb29yZGluYXRlc1swXSAtIDEsIGNvb3JkaW5hdGVzWzFdIC0gMV0sXG4gICAgICBdO1xuXG4gICAgICBjb25zdCB2YWxpZEFkamFjZW50Q29vcmRpbmF0ZXMgPSBhbGxBZGphY2VudENvb3JkaW5hdGVzLmZpbHRlcihcbiAgICAgICAgKGNvb3JkaW5hdGUpID0+IHZhbGlkYXRlQ29vcmRpbmF0ZXMoY29vcmRpbmF0ZSwgdGhpcy5zaXplKVxuICAgICAgKTtcblxuICAgICAgcmV0dXJuIHZhbGlkQWRqYWNlbnRDb29yZGluYXRlcztcbiAgICB9LFxuXG4gICAgY2hlY2tGb3JBZGphY2VudFNoaXBzKGNvb3JkaW5hdGVzKSB7XG4gICAgICBjb25zdCBhZGphY2VudENvb3JkaW5hdGVzID0gdGhpcy5nZXRBZGphY2VudENvb3JkaW5hdGVzKGNvb3JkaW5hdGVzKTtcbiAgICAgIGNvbnN0IGlzU2hpcEFkamFjZW50ID0gYWRqYWNlbnRDb29yZGluYXRlcy5zb21lKChjb29yZGluYXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLmZpbmRUaWxlKGNvb3JkaW5hdGUpO1xuICAgICAgICBpZiAodGlsZS5zaGlwKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBpc1NoaXBBZGphY2VudDtcbiAgICB9LFxuXG4gICAgdmFsaWRhdGVTaGlwQ29vcmRpbmF0ZXMoY29vcmRpbmF0ZXMpIHtcbiAgICAgIGxldCB2YWxpZCA9IHRydWU7XG4gICAgICBjb29yZGluYXRlcy5mb3JFYWNoKChjb29yZGluYXRlKSA9PiB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAhdmFsaWRhdGVDb29yZGluYXRlcyhjb29yZGluYXRlLCB0aGlzLnNpemUpIHx8XG4gICAgICAgICAgdGhpcy5jaGVja0ZvckFkamFjZW50U2hpcHMoY29vcmRpbmF0ZSkgfHxcbiAgICAgICAgICB0aGlzLmZpbmRUaWxlKGNvb3JkaW5hdGUpLnNoaXBcbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB2YWxpZDtcbiAgICB9LFxuXG4gICAgZmluZFRpbGUoY29vcmRpbmF0ZXMpIHtcbiAgICAgIGNvbnN0IHRpbGVJbmRleCA9IChjb29yZGluYXRlc1swXSAtIDEpICogdGhpcy5zaXplICsgKGNvb3JkaW5hdGVzWzFdIC0gMSk7XG4gICAgICBjb25zdCB0aWxlID0gdGhpcy50aWxlc1t0aWxlSW5kZXhdO1xuXG4gICAgICByZXR1cm4gdGlsZTtcbiAgICB9LFxuXG4gICAgcGxhY2VTaGlwKGhlYWRDb29yZGluYXRlcywgc2hpcFNpemUsIGRpcmVjdGlvbikge1xuICAgICAgaWYgKHNoaXBTaXplIDwgMSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb25zdCBjb29yZGluYXRlcyA9IGdldFNoaXBDb29yZGluYXRlcyhcbiAgICAgICAgaGVhZENvb3JkaW5hdGVzLFxuICAgICAgICBzaGlwU2l6ZSxcbiAgICAgICAgZGlyZWN0aW9uXG4gICAgICApO1xuICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlU2hpcENvb3JkaW5hdGVzKGNvb3JkaW5hdGVzKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb25zdCBuZXdTaGlwID0gU2hpcChzaGlwU2l6ZSk7XG4gICAgICB0aGlzLnNoaXBzLnB1c2gobmV3U2hpcCk7XG5cbiAgICAgIGNvb3JkaW5hdGVzLmZvckVhY2goKGNvb3JkaW5hdGUpID0+IHtcbiAgICAgICAgY29uc3QgdGlsZSA9IHRoaXMuZmluZFRpbGUoY29vcmRpbmF0ZSk7XG4gICAgICAgIHRpbGUuc2hpcCA9IG5ld1NoaXA7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG5cbiAgICBwbGFjZVNoaXBSYW5kb21seShzaGlwU2l6ZSwgZGlyZWN0aW9uKSB7XG4gICAgICBjb25zdCByZW1haW5pbmdUaWxlcyA9IFsuLi50aWxlc107XG4gICAgICBsZXQgY2hvc2VuQ29vcmRpbmF0ZXM7XG5cbiAgICAgIHdoaWxlIChyZW1haW5pbmdUaWxlcy5sZW5ndGggPiAwICYmICFjaG9zZW5Db29yZGluYXRlcykge1xuICAgICAgICBjb25zdCBpbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHJlbWFpbmluZ1RpbGVzLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IGhlYWRDb29yZGluYXRlcyA9IFtcbiAgICAgICAgICByZW1haW5pbmdUaWxlc1tpbmRleF0ucm93LFxuICAgICAgICAgIHJlbWFpbmluZ1RpbGVzW2luZGV4XS5jb2x1bW4sXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IGZ1bGxDb29yZGluYXRlcyA9IGdldFNoaXBDb29yZGluYXRlcyhcbiAgICAgICAgICBoZWFkQ29vcmRpbmF0ZXMsXG4gICAgICAgICAgc2hpcFNpemUsXG4gICAgICAgICAgZGlyZWN0aW9uXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHZhbGlkID0gdGhpcy52YWxpZGF0ZVNoaXBDb29yZGluYXRlcyhmdWxsQ29vcmRpbmF0ZXMpO1xuXG4gICAgICAgIGlmICh2YWxpZCkge1xuICAgICAgICAgIGNob3NlbkNvb3JkaW5hdGVzID0gaGVhZENvb3JkaW5hdGVzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlbWFpbmluZ1RpbGVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5wbGFjZVNoaXAoY2hvc2VuQ29vcmRpbmF0ZXMsIHNoaXBTaXplLCBkaXJlY3Rpb24pO1xuICAgICAgcmV0dXJuIGNob3NlbkNvb3JkaW5hdGVzO1xuICAgIH0sXG5cbiAgICB2YWxpZGF0ZUhpdChjb29yZGluYXRlcykge1xuICAgICAgaWYgKCF2YWxpZGF0ZUNvb3JkaW5hdGVzKGNvb3JkaW5hdGVzLCB0aGlzLnNpemUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGFscmVhZHlIaXQgPSB0aGlzLmF0dGFja2VkQ29vcmRpbmF0ZXMuc29tZShcbiAgICAgICAgKGNvb3JkKSA9PiBjb29yZFswXSA9PT0gY29vcmRpbmF0ZXNbMF0gJiYgY29vcmRbMV0gPT09IGNvb3JkaW5hdGVzWzFdXG4gICAgICApO1xuICAgICAgaWYgKGFscmVhZHlIaXQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgcmVjZWl2ZUhpdChjb29yZGluYXRlcykge1xuICAgICAgaWYgKCF0aGlzLnZhbGlkYXRlSGl0KGNvb3JkaW5hdGVzKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB0aGlzLmF0dGFja2VkQ29vcmRpbmF0ZXMucHVzaChjb29yZGluYXRlcyk7XG5cbiAgICAgIGNvbnN0IHRpbGUgPSB0aGlzLmZpbmRUaWxlKGNvb3JkaW5hdGVzKTtcbiAgICAgIHRpbGUuYXR0YWNrZWQgPSB0cnVlO1xuICAgICAgaWYgKCF0aWxlLnNoaXApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB0aWxlLnNoaXAuaGl0KCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgaXNFdmVyeXRoaW5nU3VuaygpIHtcbiAgICAgIGlmICh0aGlzLnNoaXBzLmxlbmd0aCA8PSAwKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBzaGlwUmVtYWluaW5nID0gdGhpcy5zaGlwcy5zb21lKChzaGlwKSA9PiAhc2hpcC5zdW5rKTtcbiAgICAgIHJldHVybiAhc2hpcFJlbWFpbmluZztcbiAgICB9LFxuICB9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgR2FtZUJvYXJkO1xuIiwiaW1wb3J0IEdhbWVCb2FyZCBmcm9tICcuL2dhbWUtYm9hcmQnO1xuXG5jb25zdCBnZXRSYW5kb21JbnQgPSAobWF4KSA9PiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtYXgpO1xuXG5jb25zdCBQbGF5ZXIgPSAoaXNIdW1hbiwgYm9hcmRTaXplID0gMTApID0+IHtcbiAgY29uc3QgZ2FtZUJvYXJkID0gR2FtZUJvYXJkKGJvYXJkU2l6ZSk7XG4gIGNvbnN0IHBvc3NpYmxlVGFyZ2V0cyA9IFtdO1xuXG4gIGxldCBjdXJyZW50Um93ID0gMTtcbiAgbGV0IGN1cnJlbnRDb2x1bW4gPSAxO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGJvYXJkU2l6ZSAqIGJvYXJkU2l6ZTsgaSArPSAxKSB7XG4gICAgcG9zc2libGVUYXJnZXRzLnB1c2goW2N1cnJlbnRSb3csIGN1cnJlbnRDb2x1bW5dKTtcbiAgICBpZiAoY3VycmVudENvbHVtbiA8IGJvYXJkU2l6ZSkge1xuICAgICAgY3VycmVudENvbHVtbiArPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50Q29sdW1uID0gMTtcbiAgICAgIGN1cnJlbnRSb3cgKz0gMTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGlzSHVtYW4sXG4gICAgZ2FtZUJvYXJkLFxuICAgIGJvYXJkU2l6ZSxcbiAgICBwb3NzaWJsZVRhcmdldHMsXG4gICAgdGFyZ2V0ZWRDb29yZGluYXRlczogW10sXG5cbiAgICBjaG9vc2VSYW5kb21BdHRhY2sodGFyZ2V0TGlzdCA9IHRoaXMucG9zc2libGVUYXJnZXRzKSB7XG4gICAgICBpZiAodGFyZ2V0TGlzdC5sZW5ndGggPD0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBjb25zdCBpbmRleCA9IGdldFJhbmRvbUludCh0YXJnZXRMaXN0Lmxlbmd0aCk7XG4gICAgICBjb25zdCBhdHRhY2tDb29yZGluYXRlcyA9IHRhcmdldExpc3RbaW5kZXhdO1xuXG4gICAgICByZXR1cm4gYXR0YWNrQ29vcmRpbmF0ZXM7XG4gICAgfSxcblxuICAgIHBlcmZvcm1SYW5kb21BdHRhY2soZW5lbXlQbGF5ZXIpIHtcbiAgICAgIGNvbnN0IHJhbmRvbUF0dGFjayA9IHRoaXMuY2hvb3NlUmFuZG9tQXR0YWNrKCk7XG4gICAgICB0aGlzLnRhcmdldGVkQ29vcmRpbmF0ZXMucHVzaChyYW5kb21BdHRhY2spO1xuICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnBvc3NpYmxlVGFyZ2V0cy5maW5kSW5kZXgoXG4gICAgICAgICh2YWx1ZSkgPT4gdmFsdWVbMF0gPT09IHJhbmRvbUF0dGFja1swXSAmJiB2YWx1ZVsxXSA9PT0gcmFuZG9tQXR0YWNrWzFdXG4gICAgICApO1xuICAgICAgdGhpcy5wb3NzaWJsZVRhcmdldHMuc3BsaWNlKGluZGV4LCAxKTtcblxuICAgICAgZW5lbXlQbGF5ZXIuZ2FtZUJvYXJkLnJlY2VpdmVIaXQocmFuZG9tQXR0YWNrKTtcbiAgICAgIHJldHVybiByYW5kb21BdHRhY2s7XG4gICAgfSxcbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFBsYXllcjtcbiIsImltcG9ydCBQdWJTdWIgZnJvbSAncHVic3ViLWpzJztcbmltcG9ydCBQbGF5ZXIgZnJvbSAnLi9mYWN0b3JpZXMvcGxheWVyJztcbmltcG9ydCB7XG4gIHJlbmRlckdhbWVCb2FyZHMsXG4gIHRvZ2dsZVRpbGVFdmVudExpc3RlbmVycyxcbiAgY2hhbmdlU3RhdHVzLFxufSBmcm9tICcuL2RvbSc7XG5cbmNvbnN0IEJPQVJEX1NJWkUgPSAxMDtcbmNvbnN0IFRVUk5fREVMQVkgPSAxMDAwOyAvLyBpbiBtc1xuY29uc3QgQ09NUFVURVJfU0hJUF9TSVpFUyA9IFs0LCAzLCAzLCAyLCAyLCAyLCAxLCAxLCAxLCAxXTtcblxubGV0IHBsYXllclR1cm4gPSBmYWxzZTtcblxubGV0IGh1bWFuUGxheWVyO1xuY29uc3QgY29tcHV0ZXJQbGF5ZXIgPSBQbGF5ZXIoZmFsc2UsIEJPQVJEX1NJWkUpO1xuXG5jb25zdCBwb3B1bGF0ZUNvbXB1dGVyQm9hcmQgPSAoKSA9PiB7XG4gIENPTVBVVEVSX1NISVBfU0laRVMuZm9yRWFjaCgoc2l6ZSkgPT4ge1xuICAgIGNvbnN0IGRpcmVjdGlvbiA9IFsnZG93bicsICdyaWdodCddW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIpXTtcbiAgICBjb21wdXRlclBsYXllci5nYW1lQm9hcmQucGxhY2VTaGlwUmFuZG9tbHkoc2l6ZSwgZGlyZWN0aW9uKTtcbiAgfSk7XG59O1xuXG5jb25zdCBjaGVja1dpbkNvbmRpdGlvbiA9ICgpID0+IHtcbiAgaWYgKGh1bWFuUGxheWVyLmdhbWVCb2FyZC5pc0V2ZXJ5dGhpbmdTdW5rKCkpIHtcbiAgICBQdWJTdWIucHVibGlzaCgnZ2FtZUVuZGVkJywgeyB3aW5uZXI6ICdjb21wdXRlcicgfSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKGNvbXB1dGVyUGxheWVyLmdhbWVCb2FyZC5pc0V2ZXJ5dGhpbmdTdW5rKCkpIHtcbiAgICBQdWJTdWIucHVibGlzaCgnZ2FtZUVuZGVkJywgeyB3aW5uZXI6ICdwbGF5ZXInIH0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufTtcblxuY29uc3QgY2hhbmdlVHVybiA9ICgpID0+IHtcbiAgaWYgKGNoZWNrV2luQ29uZGl0aW9uKCkpIHtcbiAgICBwbGF5ZXJUdXJuID0gZmFsc2U7XG4gICAgdG9nZ2xlVGlsZUV2ZW50TGlzdGVuZXJzKGZhbHNlKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcGxheWVyVHVybiA9ICFwbGF5ZXJUdXJuO1xuICB0b2dnbGVUaWxlRXZlbnRMaXN0ZW5lcnMocGxheWVyVHVybik7XG4gIGNoYW5nZVN0YXR1cyhgSXQncyAke3BsYXllclR1cm4gPyAneW91cicgOiBcInRoZSBjb21wdXRlcidzXCJ9IHR1cm4hYCk7XG5cbiAgcmV0dXJuIHBsYXllclR1cm47XG59O1xuXG5jb25zdCBwZXJmb3JtQ29tcHV0ZXJUdXJuID0gKGRlbGF5ID0gMTAwMCkgPT4ge1xuICBpZiAoIXBsYXllclR1cm4pIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGNvbnN0IGNvbXB1dGVyTW92ZSA9IGNvbXB1dGVyUGxheWVyLnBlcmZvcm1SYW5kb21BdHRhY2soaHVtYW5QbGF5ZXIpO1xuICAgICAgUHViU3ViLnB1Ymxpc2goJ2NvbXB1dGVyQXR0YWNrZWQnLCBjb21wdXRlck1vdmUpO1xuICAgIH0sIGRlbGF5KTtcbiAgfVxufTtcblxuY29uc3QgdHJ5VG9BdHRhY2sgPSAobXNnLCBkYXRhKSA9PiB7XG4gIGlmICghcGxheWVyVHVybikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBhdHRhY2tlZCA9IGNvbXB1dGVyUGxheWVyLmdhbWVCb2FyZC5yZWNlaXZlSGl0KFtkYXRhLnJvdywgZGF0YS5jb2x1bW5dKTtcbiAgaWYgKGF0dGFja2VkKSB7XG4gICAgUHViU3ViLnB1Ymxpc2goJ3VzZXJBdHRhY2tlZCcsIFtkYXRhLnJvdywgZGF0YS5jb2x1bW5dKTtcbiAgfVxuXG4gIHJldHVybiBhdHRhY2tlZDtcbn07XG5cbmNvbnN0IGdhbWVFbmQgPSAoeyB3aW5uZXIgfSkgPT4ge1xuICBjaGFuZ2VTdGF0dXMoYEdhbWUgZW5kZWQhIFdpbm5lcjogJHt3aW5uZXJ9YCk7XG59O1xuXG5jb25zdCBpbml0UHViU3ViID0gKCkgPT4ge1xuICBQdWJTdWIuc3Vic2NyaWJlKCdlbmVteVRpbGVDbGlja2VkJywgdHJ5VG9BdHRhY2spO1xuICBQdWJTdWIuc3Vic2NyaWJlKCd1c2VyQXR0YWNrZWQnLCAoKSA9PiB7XG4gICAgcmVuZGVyR2FtZUJvYXJkcyhodW1hblBsYXllci5nYW1lQm9hcmQsIGNvbXB1dGVyUGxheWVyLmdhbWVCb2FyZCk7XG4gICAgY2hhbmdlVHVybigpO1xuICAgIHBlcmZvcm1Db21wdXRlclR1cm4oVFVSTl9ERUxBWSk7XG4gIH0pO1xuICBQdWJTdWIuc3Vic2NyaWJlKCdjb21wdXRlckF0dGFja2VkJywgKCkgPT4ge1xuICAgIHJlbmRlckdhbWVCb2FyZHMoaHVtYW5QbGF5ZXIuZ2FtZUJvYXJkLCBjb21wdXRlclBsYXllci5nYW1lQm9hcmQpO1xuICAgIGNoYW5nZVR1cm4oKTtcbiAgfSk7XG4gIFB1YlN1Yi5zdWJzY3JpYmUoJ2dhbWVFbmRlZCcsIChtc2csIGRhdGEpID0+IHtcbiAgICBQdWJTdWIuY2xlYXJBbGxTdWJzY3JpcHRpb25zKCk7XG4gICAgZ2FtZUVuZChkYXRhKTtcbiAgfSk7XG59O1xuXG5jb25zdCBnYW1lU3RhcnQgPSAobmV3SHVtYW5QbGF5ZXIpID0+IHtcbiAgaHVtYW5QbGF5ZXIgPSBuZXdIdW1hblBsYXllcjtcbiAgcG9wdWxhdGVDb21wdXRlckJvYXJkKCk7XG4gIGluaXRQdWJTdWIoKTtcbiAgcmVuZGVyR2FtZUJvYXJkcyhodW1hblBsYXllci5nYW1lQm9hcmQsIGNvbXB1dGVyUGxheWVyLmdhbWVCb2FyZCk7XG4gIHRvZ2dsZVRpbGVFdmVudExpc3RlbmVycyh0cnVlKTtcblxuICBjaGFuZ2VUdXJuKCk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBnYW1lU3RhcnQ7XG4iLCJpbXBvcnQgUHViU3ViIGZyb20gJ3B1YnN1Yi1qcyc7XG5pbXBvcnQgeyBjaGFuZ2VTdGF0dXMsIHJlbmRlckluaXRHYW1lQm9hcmQgfSBmcm9tICcuL2RvbSc7XG5pbXBvcnQgUGxheWVyIGZyb20gJy4vZmFjdG9yaWVzL3BsYXllcic7XG5pbXBvcnQgZ2FtZVN0YXJ0IGZyb20gJy4vZ2FtZS1sb29wJztcblxuY29uc3QgSFVNQU5fU0hJUF9TSVpFUyA9IFs0LCAzLCAzLCAyLCAyLCAyLCAxLCAxLCAxLCAxXTtcbmNvbnN0IEJPQVJEX1NJWkUgPSAxMDtcblxuY29uc3QgaHVtYW5QbGF5ZXIgPSBQbGF5ZXIodHJ1ZSwgQk9BUkRfU0laRSk7XG5cbmxldCBjdXJyZW50U2hpcFNpemVJbmRleCA9IDA7XG5sZXQgY3VycmVudFNoaXBTaXplID0gSFVNQU5fU0hJUF9TSVpFU1tjdXJyZW50U2hpcFNpemVJbmRleF07XG5sZXQgY3VycmVudFNoaXBEaXJlY3Rpb24gPSAncmlnaHQnO1xuXG5jb25zdCBpbml0UHViU3ViID0gKCkgPT4ge1xuICBQdWJTdWIuc3Vic2NyaWJlKCdheGlzQ2hhbmdlZCcsICgpID0+IHtcbiAgICBjdXJyZW50U2hpcERpcmVjdGlvbiA9IGN1cnJlbnRTaGlwRGlyZWN0aW9uID09PSAncmlnaHQnID8gJ2Rvd24nIDogJ3JpZ2h0JztcbiAgICByZW5kZXJJbml0R2FtZUJvYXJkKFxuICAgICAgaHVtYW5QbGF5ZXIuZ2FtZUJvYXJkLFxuICAgICAgY3VycmVudFNoaXBTaXplLFxuICAgICAgY3VycmVudFNoaXBEaXJlY3Rpb24sXG4gICAgICBCT0FSRF9TSVpFXG4gICAgKTtcbiAgfSk7XG5cbiAgUHViU3ViLnN1YnNjcmliZSgncGxheWVyVGlsZUNsaWNrZWQnLCAobXNnLCBkYXRhKSA9PiB7XG4gICAgY29uc3Qgc2hpcEFkZGVkID0gaHVtYW5QbGF5ZXIuZ2FtZUJvYXJkLnBsYWNlU2hpcChcbiAgICAgIGRhdGEsXG4gICAgICBjdXJyZW50U2hpcFNpemUsXG4gICAgICBjdXJyZW50U2hpcERpcmVjdGlvblxuICAgICk7XG5cbiAgICBpZiAoc2hpcEFkZGVkKSB7XG4gICAgICBjdXJyZW50U2hpcFNpemVJbmRleCArPSAxO1xuICAgICAgY3VycmVudFNoaXBTaXplID0gSFVNQU5fU0hJUF9TSVpFU1tjdXJyZW50U2hpcFNpemVJbmRleF07XG4gICAgICByZW5kZXJJbml0R2FtZUJvYXJkKFxuICAgICAgICBodW1hblBsYXllci5nYW1lQm9hcmQsXG4gICAgICAgIGN1cnJlbnRTaGlwU2l6ZSxcbiAgICAgICAgY3VycmVudFNoaXBEaXJlY3Rpb24sXG4gICAgICAgIEJPQVJEX1NJWkVcbiAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKCFjdXJyZW50U2hpcFNpemUpIHtcbiAgICAgIFB1YlN1Yi5jbGVhckFsbFN1YnNjcmlwdGlvbnMoKTtcbiAgICAgIGdhbWVTdGFydChodW1hblBsYXllcik7XG4gICAgfVxuICB9KTtcbn07XG5cbmNvbnN0IGluaXRHYW1lID0gKCkgPT4ge1xuICBjaGFuZ2VTdGF0dXMoJ1BsYWNlIHlvdXIgc2hpcHMnKTtcbiAgcmVuZGVySW5pdEdhbWVCb2FyZChcbiAgICBodW1hblBsYXllci5nYW1lQm9hcmQsXG4gICAgY3VycmVudFNoaXBTaXplLFxuICAgIGN1cnJlbnRTaGlwRGlyZWN0aW9uLFxuICAgIEJPQVJEX1NJWkVcbiAgKTtcbiAgaW5pdFB1YlN1YigpO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgaW5pdEdhbWU7XG4iXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18iLCJVUkwiLCJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsIl9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJ1cmwiLCJvcHRpb25zIiwiU3RyaW5nIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJ0ZXN0Iiwic2xpY2UiLCJoYXNoIiwibmVlZFF1b3RlcyIsInJlcGxhY2UiLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwicm9vdCIsImZhY3RvcnkiLCJQdWJTdWIiLCJjb25zb2xlIiwid2FybiIsIm1lc3NhZ2VzIiwibGFzdFVpZCIsIkFMTF9TVUJTQ1JJQklOR19NU0ciLCJjYWxsU3Vic2NyaWJlcldpdGhEZWxheWVkRXhjZXB0aW9ucyIsInN1YnNjcmliZXIiLCJtZXNzYWdlIiwiZXgiLCJzZXRUaW1lb3V0IiwidGhyb3dFeGNlcHRpb24iLCJjYWxsU3Vic2NyaWJlcldpdGhJbW1lZGlhdGVFeGNlcHRpb25zIiwiZGVsaXZlck1lc3NhZ2UiLCJvcmlnaW5hbE1lc3NhZ2UiLCJtYXRjaGVkTWVzc2FnZSIsImltbWVkaWF0ZUV4Y2VwdGlvbnMiLCJzIiwic3Vic2NyaWJlcnMiLCJjYWxsU3Vic2NyaWJlciIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImhhc0RpcmVjdFN1YnNjcmliZXJzRm9yIiwidG9waWMiLCJCb29sZWFuIiwib2JqIiwia2V5IiwiaGFzS2V5cyIsInB1Ymxpc2giLCJzeW5jIiwiZGVsaXZlciIsInBvc2l0aW9uIiwibGFzdEluZGV4T2YiLCJzdWJzdHIiLCJjcmVhdGVEZWxpdmVyeUZ1bmN0aW9uIiwiZm91bmQiLCJtZXNzYWdlSGFzU3Vic2NyaWJlcnMiLCJwdWJsaXNoU3luYyIsInN1YnNjcmliZSIsImZ1bmMiLCJ0b2tlbiIsInN1YnNjcmliZUFsbCIsInN1YnNjcmliZU9uY2UiLCJ1bnN1YnNjcmliZSIsImFwcGx5IiwiYXJndW1lbnRzIiwiY2xlYXJBbGxTdWJzY3JpcHRpb25zIiwiY2xlYXJTdWJzY3JpcHRpb25zIiwibSIsImluZGV4T2YiLCJjb3VudFN1YnNjcmlwdGlvbnMiLCJjb3VudCIsImdldFN1YnNjcmlwdGlvbnMiLCJ2YWx1ZSIsInQiLCJpc1RvcGljIiwiZGVzY2VuZGFudFRvcGljRXhpc3RzIiwiaXNUb2tlbiIsImlzRnVuY3Rpb24iLCJyZXN1bHQiLCJ3aW5kb3ciLCJzdHlsZXNJbkRPTSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsIm1vZHVsZXNUb0RvbSIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsImJhc2UiLCJpbmRleEJ5SWRlbnRpZmllciIsImNzcyIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkRWxlbWVudFN0eWxlIiwiYnlJbmRleCIsInNwbGljZSIsImFwaSIsImRvbUFQSSIsInVwZGF0ZSIsIm5ld09iaiIsInJlbW92ZSIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJpbmRleCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4IiwibWVtbyIsImluc2VydCIsInN0eWxlIiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwiZ2V0VGFyZ2V0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJzdHlsZUVsZW1lbnQiLCJub25jZSIsInNldEF0dHJpYnV0ZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlVGFnVHJhbnNmb3JtIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJsb2FkZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsImQiLCJhIiwiZGVmaW5pdGlvbiIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJnIiwiZ2xvYmFsVGhpcyIsIkZ1bmN0aW9uIiwicHJvcCIsIm5tZCIsInBhdGhzIiwiY2hpbGRyZW4iLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicCIsImIiLCJiYXNlVVJJIiwic2VsZiIsImhyZWYiLCJuYyIsImxvY2FscyIsImdhbWVCb2FyZHNFbGVtZW50Iiwic3RhdHVzRWxlbWVudCIsImF4aXNCdXR0b25FbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUVuZW15VGlsZUNsaWNrIiwicm93IiwiZ2V0QXR0cmlidXRlIiwiY29sdW1uIiwidG9nZ2xlVGlsZUV2ZW50TGlzdGVuZXJzIiwiYm9vbGVhbiIsImVuZW15VGlsZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsInRpbGUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY3JlYXRlRG9tRWxlbWVudCIsImVsZW1lbnRUeXBlIiwiY2xhc3Nlc1N0cmluZyIsImlubmVySFRNTCIsImNsYXNzTmFtZSIsImNyZWF0ZVRpbGVFbGVtZW50Iiwic2hvd1NoaXBzIiwidGlsZUVsZW1lbnQiLCJhdHRhY2tlZCIsInRvZ2dsZUF0dHJpYnV0ZSIsInNoaXAiLCJzdW5rIiwiY2hhbmdlU3RhdHVzIiwic3RhdHVzTWVzc2FnZSIsImlubmVyVGV4dCIsInJlbmRlckdhbWVCb2FyZHMiLCJwbGF5ZXJCb2FyZCIsImNvbXB1dGVyQm9hcmQiLCJncmlkU2l6ZSIsInBsYXllclRpbGVzIiwidGlsZXMiLCJjb21wdXRlclRpbGVzIiwicGxheWVyR2FtZUJvYXJkRWxlbWVudCIsImNvbXB1dGVyR2FtZUJvYXJkRWxlbWVudCIsImdyaWRUZW1wbGF0ZUNvbHVtbnMiLCJkaXNwbGF5IiwicmVuZGVySW5pdEdhbWVCb2FyZCIsImdhbWVCb2FyZCIsInBsYWNlZFNoaXBTaXplIiwicGxhY2VkU2hpcERpcmVjdGlvbiIsInNoaXBIaWdobGlnaHRFbGVtZW50IiwiaGlnaGxpZ2h0IiwiY2xvbmVOb2RlIiwid2lkdGgiLCJoZWlnaHQiLCJ0aW1lc0hpdCIsImhpdCIsImlzU3VuayIsIlRpbGUiLCJzaXplIiwiY3VycmVudFJvdyIsImN1cnJlbnRDb2x1bW4iLCJnZXRTaGlwQ29vcmRpbmF0ZXMiLCJzaGlwU2l6ZSIsImRpcmVjdGlvbiIsImNvb3JkaW5hdGVzIiwiY3VycmVudENvb3JkaW5hdGVzIiwidmFsaWRhdGVDb29yZGluYXRlcyIsImNvb3JkaW5hdGUiLCJib2FyZFNpemUiLCJhdHRhY2tlZENvb3JkaW5hdGVzIiwic2hpcHMiLCJnZXRBZGphY2VudENvb3JkaW5hdGVzIiwiZmlsdGVyIiwiY2hlY2tGb3JBZGphY2VudFNoaXBzIiwic29tZSIsImZpbmRUaWxlIiwidmFsaWRhdGVTaGlwQ29vcmRpbmF0ZXMiLCJ2YWxpZCIsInRpbGVJbmRleCIsInBsYWNlU2hpcCIsImhlYWRDb29yZGluYXRlcyIsIm5ld1NoaXAiLCJwbGFjZVNoaXBSYW5kb21seSIsInJlbWFpbmluZ1RpbGVzIiwiY2hvc2VuQ29vcmRpbmF0ZXMiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJmdWxsQ29vcmRpbmF0ZXMiLCJ2YWxpZGF0ZUhpdCIsImNvb3JkIiwicmVjZWl2ZUhpdCIsImlzRXZlcnl0aGluZ1N1bmsiLCJzaGlwUmVtYWluaW5nIiwiaXNIdW1hbiIsInBvc3NpYmxlVGFyZ2V0cyIsInRhcmdldGVkQ29vcmRpbmF0ZXMiLCJjaG9vc2VSYW5kb21BdHRhY2siLCJ0YXJnZXRMaXN0IiwibWF4IiwicGVyZm9ybVJhbmRvbUF0dGFjayIsImVuZW15UGxheWVyIiwicmFuZG9tQXR0YWNrIiwiZmluZEluZGV4IiwiQ09NUFVURVJfU0hJUF9TSVpFUyIsImh1bWFuUGxheWVyIiwicGxheWVyVHVybiIsImNvbXB1dGVyUGxheWVyIiwiY2hhbmdlVHVybiIsIndpbm5lciIsInRyeVRvQXR0YWNrIiwibXNnIiwibmV3SHVtYW5QbGF5ZXIiLCJkZWxheSIsImNvbXB1dGVyTW92ZSIsInBlcmZvcm1Db21wdXRlclR1cm4iLCJnYW1lRW5kIiwiSFVNQU5fU0hJUF9TSVpFUyIsImN1cnJlbnRTaGlwU2l6ZUluZGV4IiwiY3VycmVudFNoaXBTaXplIiwiY3VycmVudFNoaXBEaXJlY3Rpb24iXSwic291cmNlUm9vdCI6IiJ9